import{r as v,a as ge,R as ne}from"./vendor-b1791c80.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}})();var ce={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=v,pe=Symbol.for("react.element"),be=Symbol.for("react.fragment"),he=Object.prototype.hasOwnProperty,fe=me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ve={key:!0,ref:!0,__self:!0,__source:!0};function le(a,c,n){var r,t={},l=null,d=null;n!==void 0&&(l=""+n),c.key!==void 0&&(l=""+c.key),c.ref!==void 0&&(d=c.ref);for(r in c)he.call(c,r)&&!ve.hasOwnProperty(r)&&(t[r]=c[r]);if(a&&a.defaultProps)for(r in c=a.defaultProps,c)t[r]===void 0&&(t[r]=c[r]);return{$$typeof:pe,type:a,key:l,ref:d,props:t,_owner:fe.current}}Y.Fragment=be;Y.jsx=le;Y.jsxs=le;ce.exports=Y;var e=ce.exports,Q={},oe=ge;Q.createRoot=oe.createRoot,Q.hydrateRoot=oe.hydrateRoot;let W=null,K=null,X=null;async function xe(){var a,c;try{const n=((c=(a=import.meta)==null?void 0:a.env)==null?void 0:c.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),t=`${n&&n!=="/"?n.endsWith("/")?n:n+"/":"/"}assets/data/ra.json`,l=await fetch(t);return l.ok?(await l.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("N√£o foi poss√≠vel carregar ra.json, usando configura√ß√µes padr√£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(n){return console.warn("Erro ao carregar configura√ß√µes do RA, usando padr√£o:",n),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function de(){return X||(X=(async()=>{try{console.log("Iniciando inicializa√ß√£o global...");const a=await xe();console.log("Configura√ß√µes do RA:",a),a.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await ye(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await ke(),console.log("A-Frame Scene inicializado"),je()):console.log("A-Frame desabilitado nas configura√ß√µes"),a.usarVideo!==!1?(console.log(`Inicializando c√¢mera (${a.cameraFacing||"user"})...`),await we(a),console.log("C√¢mera inicializada")):console.log("V√≠deo desabilitado nas configura√ß√µes"),a.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await Re(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configura√ß√µes"),console.log("Inicializa√ß√£o global conclu√≠da")}catch(a){throw console.error("Erro na inicializa√ß√£o global:",a),a}})(),X)}let J=!1,q=null,Z=null;function je(){if(J&&q)return;const a=n=>{if(J)return;J=!0;const r=n;r.style.pointerEvents="auto",r.style.zIndex="2147483647",r.style.position="fixed",r.style.display="block",r.style.visibility="visible",r.style.opacity="1",n.querySelectorAll("*").forEach(d=>{d.style.pointerEvents="auto"}),n.querySelectorAll("button").forEach(d=>{d.style.pointerEvents="auto",d.style.cursor="pointer",d.style.zIndex="2147483647",d.style.position="relative"}),q&&(q.disconnect(),q=null)};let c=null;q=new MutationObserver(()=>{c&&clearTimeout(c),c=setTimeout(()=>{if(J)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');n&&a(n)},200)}),q.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),Z&&clearTimeout(Z),Z=setTimeout(()=>{if(J)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]');n&&a(n)},1e3)}function ye(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){a();return}const c=()=>{typeof window<"u"&&window.AFRAME?a():setTimeout(c,100)};c()})}async function we(a){var c,n;try{const r=document.getElementById("arjs-video");if(r&&r.srcObject)return W=r,K=r.srcObject,K;const t=(a==null?void 0:a.cameraFacing)||"user",l=(a==null?void 0:a.cameraMirror)!==void 0?a.cameraMirror:t==="user";console.log(`üì∑ Configurando c√¢mera: facing=${t}, mirror=${l} (config: ${a==null?void 0:a.cameraMirror})`);const d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=await navigator.mediaDevices.getUserMedia({video:{width:d?{ideal:640,max:1280}:{ideal:1280},height:d?{ideal:480,max:720}:{ideal:720},facingMode:{ideal:t},...d&&{frameRate:{ideal:30,max:30}}},audio:!1});if(r)W=r,l?(W.style.transform="scaleX(-1)",console.log("ü™û V√≠deo existente ESPELHADO")):(W.style.transform="scaleX(1)",console.log("üì∑ V√≠deo existente N√ÉO ESPELHADO"));else{const u=document.createElement("video");u.id="arjs-video",u.setAttribute("playsinline",""),u.setAttribute("webkit-playsinline",""),u.setAttribute("autoplay",""),u.setAttribute("muted","true"),u.muted=!0,u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100vw",u.style.height="100vh",u.style.objectFit="cover",u.style.zIndex="0",u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",l?(u.style.transform="scaleX(-1)",console.log("ü™û C√¢mera ESPELHADA (mirror=true)")):(u.style.transform="scaleX(1)",console.log("üì∑ C√¢mera N√ÉO ESPELHADA (mirror=false)")),document.body.appendChild(u),W=u}return W.srcObject=i,K=i,await W.play(),console.log("‚úÖ C√¢mera inicializada:",{facing:t,mirror:l,mirrorConfig:a==null?void 0:a.cameraMirror,width:(c=i.getVideoTracks()[0])==null?void 0:c.getSettings().width,height:(n=i.getVideoTracks()[0])==null?void 0:n.getSettings().height}),i}catch(r){return console.warn("Erro ao inicializar c√¢mera global:",r),null}}async function Re(){if(!window.faceapi)return new Promise((a,c)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),a()},n.onerror=()=>c(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function ke(){if(document.querySelector("a-scene")){console.log("A-Frame Scene j√° existe");return}console.log("A-Frame Scene ser√° criado pelo ARScreen com mindar-image desde o in√≠cio")}const re=({onNavigate:a,onLoadingComplete:c})=>{const[n,r]=v.useState(0),[t,l]=v.useState("Inicializando...");return v.useEffect(()=>((async()=>{const i=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],x=(()=>{var j,b;const g=((b=(j=import.meta)==null?void 0:j.env)==null?void 0:b.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return g&&g!=="/"?g.endsWith("/")?g:g+"/":"/"})();try{l("Aguardando inicializa√ß√£o..."),await de(),l("Carregando recursos...");for(let g=0;g<i.length;g++){const p=i[g],j=`${x}${p.startsWith("/")?p.slice(1):p}`;if(p.endsWith(".json"))try{if(!(await fetch(j)).ok)throw new Error(`Failed to load ${p}`)}catch(o){console.warn(`Failed to load ${p}:`,o)}else await new Promise(o=>{const h=new Image;h.onload=()=>o(h),h.onerror=()=>{console.warn(`Failed to load image: ${j}`),o(null)},h.src=j});const b=Math.round((g+1)/i.length*100);r(b)}l("Finalizando..."),await new Promise(g=>setTimeout(g,300)),r(100),l("Conclu√≠do!"),await new Promise(g=>setTimeout(g,200)),c==null||c(),a("cover","flip","left")}catch(g){console.error("Erro ao carregar recursos:",g),l("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover","flip","left")},1e3)}})(),()=>{}),[a,c]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})};const Se=({onNavigate:a,backgroundImage:c})=>{const r=(()=>{var p,j;const x=((j=(p=import.meta)==null?void 0:p.env)==null?void 0:j.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=x&&x!=="/"?x.endsWith("/")?x:x+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),t=x=>{if(r==="")return x.startsWith("/")?x:`/${x}`;const g=x.startsWith("/")?x.slice(1):x;return`${r}/${g}`},l=c||t("assets/images/bg-capa.png"),d=t("assets/images/header-capa.png"),i=t("assets/images/bottom-capa.png"),u=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${l}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:d,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial","zoom-out","right"),style:{backgroundImage:`url(${u})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:i,alt:"Bottom",className:"cover-bottom-img"})})]})};const Ae=({onNavigate:a})=>{const n=(()=>{var x,g;const i=((g=(x=import.meta)==null?void 0:x.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=i&&i!=="/"?i.endsWith("/")?i:i+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),r=i=>{if(n==="")return i.startsWith("/")?i:`/${i}`;const u=i.startsWith("/")?i.slice(1):i;return`${n}/${u}`},t=r("assets/images/bg-capa.png"),l=r("assets/images/tutorial-panel.png"),d=r("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:l,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar","fade","right"),style:{backgroundImage:`url("${d}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},Ee=({onNavigate:a})=>{const n=(()=>{var x,g;const i=((g=(x=import.meta)==null?void 0:x.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=i&&i!=="/"?i.endsWith("/")?i:i+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),r=i=>{if(n==="")return i.startsWith("/")?i:`/${i}`;const u=i.startsWith("/")?i.slice(1):i;return`${n}/${u}`},t=r("assets/images/bg-capa.png"),l=r("assets/images/tutorial-panel-2.png"),d=r("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:l,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar","fade","right"),style:{backgroundImage:`url("${d}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const Ne=({onNavigate:a,backgroundImage:c})=>{const[n,r]=v.useState(!0),[t,l]=v.useState(1),[d,i]=v.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),u={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},g=(()=>{var S,F;const s=((F=(S=import.meta)==null?void 0:S.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),R=s&&s!=="/"?s.endsWith("/")?s:s+"/":"/";return R==="/"?"":R.endsWith("/")?R.slice(0,-1):R})(),p=s=>{if(g==="")return s.startsWith("/")?s:`/${s}`;const R=s.startsWith("/")?s.slice(1):s;return`${g}/${R}`},j=c||p("assets/images/bg-capa.png"),b=p("assets/images/foguete-top.png"),o=p("assets/images/foguete-bottom.png"),h=p("assets/images/foguete-montagem.png"),P=p("assets/images/btn-jogar-foguete.png"),D=p("assets/images/btn-jogar-foguete-disable.png"),L=p("assets/images/btn-next.png"),U=p("assets/images/btn-back.png"),I=(s,R)=>{if(R===0)return null;const S=R.toString().padStart(2,"0");return p(`assets/images/pecas/${s}/${S}.png`)},C=I("ponta",d.ponta),E=I("corpo",d.corpo),y=I("janela",d.janela),f=I("asa",d.asa),A=I("jato",d.jato),w=s=>p(`assets/images/abas/0${s}${t===s?"":"-disable"}.png`),H=s=>{l(s);const R=u[s];d[R]===0&&R!=="ponta"&&i(F=>({...F,[R]:1}))},V=()=>{const s=u[t],R=d[s];R===0?i(S=>({...S,[s]:1})):R<3&&i(S=>({...S,[s]:R+1}))},_=()=>{const s=u[t],R=d[s];R>1&&s!=="ponta"&&i(S=>({...S,[s]:R-1}))},O=u[t],$=d[O],te=$<3,G=$>1&&O!=="ponta",m=$>0?I(O,$):null,k=d.ponta>0&&d.corpo>0&&d.janela>0&&d.asa>0&&d.jato>0;return v.useEffect(()=>{(async()=>{const S=(()=>{var B,M;const N=((M=(B=import.meta)==null?void 0:B.env)==null?void 0:M.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),T=N&&N!=="/"?N.endsWith("/")?N:N+"/":"/";return T==="/"?"":T.endsWith("/")?T.slice(0,-1):T})(),F=N=>{if(S==="")return N.startsWith("/")?N:`/${N}`;const T=N.startsWith("/")?N.slice(1):N;return`${S}/${T}`},z=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const N=z.map(T=>new Promise(B=>{const M=new Image;M.onload=()=>B(),M.onerror=()=>{console.warn(`Failed to load image: ${T}`),B()},M.src=F(T)}));await Promise.all(N),r(!1)}catch(N){console.error("Erro ao carregar imagens:",N),r(!1)}})()},[]),n?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${j}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:b,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(s=>e.jsx("button",{className:`rocket-tab ${t===s?"active":""}`,onClick:()=>H(s),style:{backgroundImage:`url("${w(s)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},s))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:h,alt:"Foguete Montagem",className:"rocket-montagem-img"}),C&&e.jsx("img",{src:C,alt:"Ponta",className:"rocket-ponta"}),E&&e.jsx("img",{src:E,alt:"Corpo",className:"rocket-corpo"}),y&&e.jsx("img",{src:y,alt:"Janela",className:"rocket-janela"}),f&&e.jsx("img",{src:f,alt:"Asa",className:"rocket-asa"}),A&&e.jsx("img",{src:A,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:o,alt:"Foguete Bottom",className:"rocket-bottom-img"}),m&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:m,alt:`Preview ${O}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:_,disabled:!G,style:{backgroundImage:`url("${U}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(d)),console.log("‚úÖ Pe√ßas do foguete salvas:",d)}catch(s){console.error("‚ùå Erro ao salvar pe√ßas do foguete:",s)}a("tutorial2","fade","right")},disabled:!k,style:{backgroundImage:`url("${k?P:D}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:V,disabled:!te,style:{backgroundImage:`url("${L}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},ue=v.createContext(void 0),Ie=()=>{const a=v.useContext(ue);if(a===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return a},Te=({children:a})=>{const[c,n]=v.useState(null),[r,t]=v.useState(!0),[l,d]=v.useState(null),i=async()=>{var g,p;try{t(!0),d(null),console.log("üîÑ Carregando dados do RA...");const j=((p=(g=import.meta)==null?void 0:g.env)==null?void 0:p.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=`${j&&j!=="/"?j.endsWith("/")?j:j+"/":"/"}assets/data/ra.json`,h=await fetch(o);if(!h.ok)throw new Error(`Erro ao carregar dados: ${h.status}`);const P=await h.json();console.log("‚úÖ Dados do RA carregados:",P),n(P)}catch(j){const b=j instanceof Error?j.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",b),d(b)}finally{t(!1)}},u=()=>{i()};v.useEffect(()=>{i()},[]);const x={raData:c,loading:r,error:l,refreshData:u};return e.jsx(ue.Provider,{value:x,children:a})};const Le=({onNavigate:a})=>{const{raData:c}=Ie(),n=(c==null?void 0:c.configuracoes)||{},r=n.usarAFrame!==!1,t=n.debugVisual!==!1,[l,d]=v.useState(!0),[i,u]=v.useState(!1),[x,g]=v.useState(!1),[p,j]=v.useState(null),b=v.useRef(null),o=v.useRef(null),h=v.useRef(!0),P=v.useRef(!1),L=(()=>{var f,A;const E=((A=(f=import.meta)==null?void 0:f.env)==null?void 0:A.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),y=E&&E!=="/"?E.endsWith("/")?E:E+"/":"/";return y==="/"?"":y.endsWith("/")?y.slice(0,-1):y})(),U=E=>{if(L==="")return E.startsWith("/")?E:`/${E}`;const y=E.startsWith("/")?E.slice(1):E;return`${L}/${y}`},I=U("assets/mindar/targets.mind"),C=U("assets/images/target-image.png");return v.useEffect(()=>{if(!r){d(!1);return}return(async()=>{try{const y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);await new Promise(m=>{let k=0;const s=100,R=()=>{k++;const S=window.AFRAME,F=S&&S.components&&S.components["mindar-image"];S&&F?(console.log("‚úÖ A-Frame e MindAR prontos"),m()):k>=s?(console.warn("‚ö†Ô∏è MindAR n√£o detectado ap√≥s timeout, continuando..."),m()):setTimeout(R,100)};R()});let f=document.querySelector("a-scene#ar-scene-main");if(!f||!f.hasAttribute("mindar-image")){if(console.log("üîÑ Criando a-scene com mindar-image desde o in√≠cio (como no exemplo HTML)..."),f){try{f.parentNode?f.parentNode.removeChild(f):f.remove()}catch(T){console.warn("Erro ao remover scene antigo:",T)}await new Promise(T=>requestAnimationFrame(T))}const m=document.createElement("a-scene");m.id="ar-scene-main",m.setAttribute("embedded","true");const k=y?`imageTargetSrc: ${I}; maxTrack: 1; warmupTolerance: 0.1; missTolerance: 0.3;`:`imageTargetSrc: ${I};`;m.setAttribute("mindar-image",k),m.setAttribute("color-space","sRGB"),m.setAttribute("renderer","colorManagement: true, physicallyCorrectLights"),m.setAttribute("vr-mode-ui","enabled: false"),m.setAttribute("ar-mode-ui","enabled: false"),m.setAttribute("webxr","enabled: false"),m.setAttribute("device-orientation-permission-ui","enabled: true"),m.style.position="fixed",m.style.top="0",m.style.left="0",m.style.width="100%",m.style.height="100%",m.style.zIndex="1",m.style.background="transparent";const s=document.createElement("a-camera");s.setAttribute("position","0 0 0"),s.setAttribute("look-controls","enabled: false"),m.appendChild(s);const R=document.createElement("a-assets"),S=document.createElement("img");S.id="card",S.src=C,S.crossOrigin="anonymous",R.appendChild(S),m.appendChild(R);const F=document.createElement("a-entity");F.setAttribute("mindar-image-target","targetIndex: 0");const z=document.createElement("a-plane");z.setAttribute("src","#card"),z.setAttribute("position","0 0 0"),z.setAttribute("height","0.552"),z.setAttribute("width","1"),z.setAttribute("rotation","0 0 0"),F.appendChild(z);const N=document.createElement("a-box");N.setAttribute("position","0 0.1 0"),N.setAttribute("rotation","0 45 0"),N.setAttribute("color","#4CC3D9"),N.setAttribute("scale","0.2 0.2 0.2"),N.setAttribute("animation","property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true"),F.appendChild(N),m.appendChild(F),document.body.appendChild(m),await new Promise(T=>{let B=0;const M=50,se=()=>{B++;const ae=document.querySelector("a-scene#ar-scene-main");ae&&ae.hasLoaded?T():B>=M?(console.warn("‚ö†Ô∏è Timeout aguardando scene carregar"),T()):setTimeout(se,100)};se()}),f=document.querySelector("a-scene#ar-scene-main"),console.log("‚úÖ Scene criado com mindar-image desde o in√≠cio"),y&&await new Promise(T=>setTimeout(T,500))}else console.log("‚úÖ Scene j√° tem mindar-image configurado");const A=()=>{document.querySelectorAll('.a-enter-vr-button, .a-enter-ar-button, [class*="vr-button"], [class*="enter-vr"], [class*="enter-ar"], [class*="cardboard"]').forEach(s=>{s&&(s.style.display="none",s.style.visibility="hidden",s.style.opacity="0",s.style.pointerEvents="none")}),document.querySelectorAll('div[class*="modal"], div[class*="ui"]').forEach(s=>{if(s){const R=s.textContent||s.innerText||"";R.toLowerCase().includes("cardboard")||R.toLowerCase().includes("insert phone")||s.classList.contains("a-vr-modal")||s.className&&s.className.includes("cardboard")?(s.style.display="none",s.style.visibility="hidden",s.style.opacity="0",s.style.pointerEvents="none"):s.classList.contains("a-orientation-modal")||s.classList.contains("a-orientation-permission-ui")||s.className&&s.className.includes("orientation-permission")}})};A(),b.current=setInterval(A,500);const w=document.getElementById("arjs-video");if(w){if(await new Promise(k=>{if(w.readyState>=2)k();else{const s=()=>{w.removeEventListener("canplay",s),w.removeEventListener("loadedmetadata",s),k()};w.addEventListener("canplay",s,{once:!0}),w.addEventListener("loadedmetadata",s,{once:!0}),setTimeout(()=>{w.removeEventListener("canplay",s),w.removeEventListener("loadedmetadata",s),console.warn("‚ö†Ô∏è Timeout aguardando v√≠deo estar pronto"),k()},5e3)}}),w.paused)try{w.muted=!0,await w.play(),console.log("‚úÖ V√≠deo iniciado para MindAR")}catch(k){console.warn("‚ö†Ô∏è Erro ao iniciar v√≠deo:",k)}const m=n.cameraMirror!==void 0?n.cameraMirror:n.cameraFacing==="user";m?w.style.transform="scaleX(-1)":w.style.transform="scaleX(1)",w.style.display="block",w.style.visibility="visible",w.style.opacity="1",w.classList.add("ar-video-visible"),w.setAttribute("playsinline",""),w.setAttribute("webkit-playsinline",""),w.setAttribute("autoplay",""),w.muted=!0,console.log("üìπ V√≠deo tornado vis√≠vel para MindAR",{mirror:m,config:n.cameraMirror,readyState:w.readyState,paused:w.paused,videoWidth:w.videoWidth,videoHeight:w.videoHeight,isMobile:y}),y&&await new Promise(k=>requestAnimationFrame(k))}else console.warn("‚ö†Ô∏è V√≠deo n√£o encontrado! O MindAR pode n√£o funcionar corretamente.");const H=m=>{console.log("‚úÖ MindAR image target carregado",m),h.current=!1,d(!1),u(!0),o.current&&(clearTimeout(o.current),o.current=null),t&&j(k=>({...k||{},mindarLoaded:!0,targetIndex:0,imageTargetSrc:I,loadedAt:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()}))},V=m=>{console.log("‚úÖ Target encontrado!",m),P.current=!0,g(!0),t&&j(k=>{const s={...k||{},targetFound:!0,targetFoundTime:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target found):",s),s})},_=m=>{console.log("‚ö†Ô∏è Target perdido",m),P.current=!1,g(!1),t&&j(k=>{const s={...k||{},targetFound:!1,timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target lost):",s),s})},O=m=>{console.error("‚ùå Erro no MindAR:",m),t&&j(k=>({...k,error:m.detail||"Erro desconhecido"}))};f.addEventListener("mindar-image-loaded",H),f.addEventListener("mindar-image-target-found",V),f.addEventListener("mindar-image-target-lost",_),f.addEventListener("mindar-image-error",O);const $=f.querySelector("[mindar-image-target]");$&&(console.log("üìå Adicionando listeners na entidade target tamb√©m"),$.addEventListener("targetFound",V),$.addEventListener("targetLost",_)),setTimeout(()=>{const m=f.systems&&f.systems["mindar-image-system"];m&&m.anchorEntities&&m.anchorEntities.length>0?(console.log("‚úÖ MindAR j√° configurado",{anchorEntities:m.anchorEntities.length,isMobile:y}),H({detail:"already-loaded"})):console.warn("‚ö†Ô∏è MindAR system n√£o encontrado ou n√£o inicializado",{hasSystem:!!m,isMobile:y})},y?3e3:2e3),o.current=setTimeout(()=>{h.current&&(console.warn("‚ö†Ô∏è MindAR n√£o inicializou no tempo esperado"),h.current=!1,d(!1))},1e4);let G=null;return t&&(G=setInterval(()=>{const m=document.getElementById("arjs-video"),k=document.querySelector("a-scene#ar-scene-main");j(s=>({...s||{},videoReady:m&&m.readyState>=2,videoWidth:m==null?void 0:m.videoWidth,videoHeight:m==null?void 0:m.videoHeight,sceneReady:k&&k.hasLoaded,timestamp:new Date().toLocaleTimeString(),targetFound:(s==null?void 0:s.targetFound)!==void 0?s.targetFound:!1,targetFoundTime:(s==null?void 0:s.targetFoundTime)||null}))},1e3)),()=>{f.removeEventListener("mindar-image-loaded",H),f.removeEventListener("mindar-image-target-found",V),f.removeEventListener("mindar-image-target-lost",_),f.removeEventListener("mindar-image-error",O);const m=f.querySelector("[mindar-image-target]");m&&(m.removeEventListener("targetFound",V),m.removeEventListener("targetLost",_)),G&&clearInterval(G),o.current&&(clearTimeout(o.current),o.current=null)}}catch(y){console.error("‚ùå Erro ao configurar MindAR:",y),h.current=!1,d(!1),o.current&&(clearTimeout(o.current),o.current=null)}})(),()=>{b.current&&(clearInterval(b.current),b.current=null)}},[r,I,C,t]),e.jsxs("div",{className:"ar-game-screen",children:[l&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),r&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),i&&!l&&e.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"15px 25px",borderRadius:"10px",zIndex:1e4,textAlign:"center",fontSize:"16px"},children:x?"‚úÖ Target detectado!":"Aponte a c√¢mera para a imagem alvo"}),t&&p&&e.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.8)",color:"#0f0",padding:"15px",borderRadius:"8px",zIndex:10001,fontSize:"12px",fontFamily:"monospace",maxWidth:"300px",border:"2px solid #0f0"},children:[e.jsx("div",{style:{marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #0f0",paddingBottom:"5px"},children:"üîç DEBUG INFO"}),e.jsxs("div",{style:{lineHeight:"1.6"},children:[e.jsxs("div",{children:["üì∑ C√¢mera: ",n.cameraFacing||"user"]}),e.jsxs("div",{children:["ü™û Mirror: ",n.cameraMirror!==!1?"SIM":"N√ÉO"]}),p.videoWidth&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üìê Resolu√ß√£o: ",p.videoWidth,"x",p.videoHeight]}),e.jsxs("div",{children:["‚úÖ V√≠deo: ",p.videoReady?"PRONTO":"CARREGANDO"]})]}),e.jsxs("div",{children:["üéØ MindAR: ",p.mindarLoaded?"‚úÖ CARREGADO":"‚è≥ CARREGANDO"]}),e.jsxs("div",{children:["üìÅ Arquivo: ",I.split("/").pop()]}),e.jsxs("div",{children:["üéØ Target: ",p.targetFound?"‚úÖ DETECTADO":"‚ùå N√ÉO DETECTADO"]}),p.targetFoundTime&&e.jsxs("div",{children:["‚è∞ Detectado em: ",p.targetFoundTime]}),p.error&&e.jsxs("div",{style:{color:"#f00"},children:["‚ùå Erro: ",p.error]}),e.jsxs("div",{children:["üïê ",p.timestamp]})]})]})]})};const Pe=({onNavigate:a})=>{const[c,n]=v.useState(null);v.useEffect(()=>{const g=(p=0)=>{const j=localStorage.getItem("ar-result");console.log(`Tentativa ${p+1}: resultado no localStorage =`,j),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),j==="acerto"||j==="erro"?n(j):p<5?setTimeout(()=>g(p+1),100):(console.error("Resultado n√£o encontrado no localStorage ap√≥s m√∫ltiplas tentativas, voltando para cover"),a("cover","zoom-in","left"))};g(0)},[a]);const t=(()=>{var j,b;const g=((b=(j=import.meta)==null?void 0:j.env)==null?void 0:b.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),p=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return p==="/"?"":p.endsWith("/")?p.slice(0,-1):p})(),l=g=>{if(t==="")return g.startsWith("/")?g:`/${g}`;const p=g.startsWith("/")?g.slice(1):g;return`${t}/${p}`},d={bgCapa:l("assets/images/bg-capa.png"),modalAcerto:l("assets/images/modal-acerto.png"),modalErro:l("assets/images/modal-erro.png"),btnRegistrar:l("assets/images/btn-registrar.png"),btnInicio:l("assets/images/btn-inicio.png"),btnVoltar:l("assets/images/btn-voltar.png")},i=()=>{a("selfie","fade","up")},u=()=>{a("cover","zoom-in","left")},x=()=>{a("ar","fade","left")};return c?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${d.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:c==="acerto"?d.modalAcerto:d.modalErro,alt:c==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),c==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:i,style:{backgroundImage:`url(${d.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:u,style:{backgroundImage:`url(${d.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),c==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:x,style:{backgroundImage:`url(${d.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},ee={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Ce=({onNavigate:a,onSettingsChange:c})=>{const[n,r]=v.useState(ee),t=(i,u)=>{const x={...n,[i]:u};r(x),c==null||c(x)},l=()=>{a("ar")},d=()=>{r(ee),c==null||c(ee)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:l,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:i=>t("quality",i.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:i=>t("enableSound",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:i=>t("enableVibration",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:i=>t("autoSave",i.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:i=>t("language",i.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:d,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:l,children:"Salvar"})]})]})},Ue=({onNavigate:a,appName:c="Realidade Aumentada",version:n="1.0.0",description:r="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const l=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:l,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:c}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:r})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:l,children:"Voltar ao In√≠cio"})})]})},Fe=({onNavigate:a})=>{const c=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:c,children:"Jogar Novamente"})})]})})};const $e=()=>{const a=v.useRef(null),c=v.useRef(null),n=v.useRef(null),r=v.useRef(null),[t,l]=v.useState(!1),i=(()=>{var h,P;const b=((P=(h=import.meta)==null?void 0:h.env)==null?void 0:P.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=b&&b!=="/"?b.endsWith("/")?b:b+"/":"/";return o==="/"?"":o.endsWith("/")?o.slice(0,-1):o})(),u=b=>{if(i==="")return b.startsWith("/")?b:`/${b}`;const o=b.startsWith("/")?b.slice(1):b;return`${i}/${o}`},x=u("assets/images/selfie-top.png"),g=u("assets/images/selfie-bottom.png"),p=u("assets/images/camera-icon.png");v.useEffect(()=>{async function b(){try{let o=document.getElementById("selfie-video");if(o&&o.srcObject){o.classList.add("selfie-video-visible"),a.current=o;return}const h=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});o||(o=document.createElement("video"),o.setAttribute("id","selfie-video"),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.muted=!0,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.objectFit="cover",o.style.zIndex="0",o.classList.add("selfie-video-visible"),document.body.appendChild(o)),o.srcObject=h,c.current=h,a.current=o,await o.play()}catch(o){console.error("Erro ao inicializar c√¢mera:",o)}}return b(),()=>{}},[]),v.useEffect(()=>{(()=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{n.current=o},o.onerror=()=>{console.warn("Erro ao carregar imagem top")},o.src=x;const h=new Image;h.crossOrigin="anonymous",h.onload=()=>{r.current=h},h.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},h.src=g})()},[x,g]);const j=async()=>{if(!(!a.current||t)){l(!0);try{const b=a.current,o=document.createElement("canvas");o.width=window.innerWidth,o.height=window.innerHeight;const h=o.getContext("2d");if(!h){l(!1);return}const P=(b.videoWidth||b.clientWidth)/(b.videoHeight||b.clientHeight),D=o.width/o.height;let L=o.width,U=o.height,I=0,C=0;if(P>D?(U=o.width/P,C=(o.height-U)/2):(L=o.height*P,I=(o.width-L)/2),h.drawImage(b,I,C,L,U),await(()=>new Promise(y=>{if(n.current&&r.current)y();else{const f=setInterval(()=>{n.current&&r.current&&(clearInterval(f),y())},50);setTimeout(()=>{clearInterval(f),y()},2e3)}}))(),n.current){const y=n.current,f=y.naturalWidth/y.naturalHeight,A=o.width/f;h.drawImage(y,0,0,o.width,A)}if(r.current){const y=r.current,f=y.naturalWidth/y.naturalHeight,A=o.width/f;h.drawImage(y,0,o.height-A,o.width,A)}o.toBlob(async y=>{if(y)try{if(navigator.share&&navigator.canShare){const f=new File([y],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[f]}))await navigator.share({files:[f],title:"Minha Selfie",text:"Confira minha selfie!"});else{const A=URL.createObjectURL(y);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:A}),URL.revokeObjectURL(A)}}else{const f=URL.createObjectURL(y),A=document.createElement("a");A.href=f,A.download=`selfie-${Date.now()}.png`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(f)}}catch(f){if(f instanceof Error&&f.name!=="AbortError"){console.error("Erro ao compartilhar:",f);const A=URL.createObjectURL(y),w=document.createElement("a");w.href=A,w.download=`selfie-${Date.now()}.png`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(A)}}l(!1)},"image/png")}catch(b){console.error("Erro ao capturar foto:",b),l(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:x,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:g,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:j,disabled:t,style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const ze=({initialScreen:a="loading",appConfig:c,defaultTransition:n="zoom-out",defaultDirection:r="right"})=>{const[t,l]=v.useState(a||"loading"),[d,i]=v.useState(!1),[u,x]=v.useState(n),[g,p]=v.useState(r),[j,b]=v.useState(null);v.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",t)},[]),v.useEffect(()=>{if(!d){const L=setTimeout(()=>{t!=="loading"&&b(null)},1e3);return()=>clearTimeout(L)}},[t,d]);const o=(L,U)=>{const I=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],C=I.indexOf(L),E=I.indexOf(U);return E>C?"right":E<C?"left":"right"},h=(L,U,I)=>{const C=U||u,E=I||o(t,L);b(t),x(C),p(E);const y=t==="loading"?800:300;i(!0),setTimeout(()=>{l(L),i(!1)},y)},P=()=>{switch(t){case"loading":return e.jsx(re,{onNavigate:h});case"cover":return e.jsx(Se,{onNavigate:h,title:c.title,subtitle:c.subtitle});case"tutorial":return e.jsx(Ae,{onNavigate:h});case"rocket":return e.jsx(Ne,{onNavigate:h});case"tutorial2":return e.jsx(Ee,{onNavigate:h});case"ar":return e.jsx(Le,{onNavigate:h});case"resultado":return e.jsx(Pe,{onNavigate:h});case"final":return e.jsx(Fe,{onNavigate:h});case"settings":return e.jsx(Ce,{onNavigate:h});case"about":return e.jsx(Ue,{onNavigate:h});case"selfie":return e.jsx($e,{onNavigate:h});default:return e.jsx(re,{onNavigate:h})}},D=()=>{const L="screen-manager",U=`transition-${u}`,I=`direction-${g}`,C=d?"transitioning":"",E=j?`from-${j}`:"";return`${L} ${U} ${I} ${C} ${E}`.trim()};return e.jsx("div",{className:D(),children:P()})},Be=()=>{const[a,c]=v.useState(!1),n=()=>{const r=window.innerWidth,t=window.innerHeight,l=r>t,d=navigator.userAgent.toLowerCase(),i=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(d)||"ontouchstart"in window||navigator.maxTouchPoints>0,u=r<=768;i&&l||u&&l?(c(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(c(!1),document.body.style.overflow="",document.body.style.touchAction="")};return v.useEffect(()=>{n();let r,t;const l=()=>{clearTimeout(r),r=setTimeout(()=>{n()},100)},d=()=>{clearTimeout(t),t=setTimeout(()=>{n()},300)},i=()=>{clearTimeout(t),t=setTimeout(()=>{n()},300)},u=p=>{clearTimeout(t),t=setTimeout(()=>{n()},100)};window.addEventListener("resize",l),window.addEventListener("orientationchange",d),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",i);const x=window.matchMedia("(orientation: landscape)");x.addEventListener("change",u);const g=setInterval(()=>{n()},2e3);return()=>{clearTimeout(r),clearTimeout(t),clearInterval(g),window.removeEventListener("resize",l),window.removeEventListener("orientationchange",d),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",i),x.removeEventListener("change",u),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function ie(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Te,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(Be,{}),e.jsx(ze,{initialScreen:"loading",appConfig:a})]})})}de().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),Q.createRoot(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(ie,{})}))}).catch(a=>{console.error("Erro na inicializa√ß√£o global:",a),Q.createRoot(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(ie,{})}))});
//# sourceMappingURL=index-6776466a.js.map
