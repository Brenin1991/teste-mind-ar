import{r as p,a as fe,R as ce}from"./vendor-b1791c80.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(t){if(t.ep)return;t.ep=!0;const c=a(t);fetch(t.href,c)}})();var ge={exports:{}},te={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=p,xe=Symbol.for("react.element"),ye=Symbol.for("react.fragment"),je=Object.prototype.hasOwnProperty,we=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Se={key:!0,ref:!0,__self:!0,__source:!0};function me(s,r,a){var n,t={},c=null,l=null;a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(l=r.ref);for(n in r)je.call(r,n)&&!Se.hasOwnProperty(n)&&(t[n]=r[n]);if(s&&s.defaultProps)for(n in r=s.defaultProps,r)t[n]===void 0&&(t[n]=r[n]);return{$$typeof:xe,type:s,key:c,ref:l,props:t,_owner:we.current}}te.Fragment=ye;te.jsx=me;te.jsxs=me;ge.exports=te;var e=ge.exports,ee={},le=fe;ee.createRoot=le.createRoot,ee.hydrateRoot=le.hydrateRoot;let J=null,se=null,Z=null;async function Re(){var s,r;try{const a=((r=(s=import.meta)==null?void 0:s.env)==null?void 0:r.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),t=`${a&&a!=="/"?a.endsWith("/")?a:a+"/":"/"}assets/data/ra.json`,c=await fetch(t);return c.ok?(await c.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("NÃ£o foi possÃ­vel carregar ra.json, usando configuraÃ§Ãµes padrÃ£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(a){return console.warn("Erro ao carregar configuraÃ§Ãµes do RA, usando padrÃ£o:",a),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function pe(){return Z||(Z=(async()=>{try{console.log("Iniciando inicializaÃ§Ã£o global...");const s=await Re();console.log("ConfiguraÃ§Ãµes do RA:",s),s.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await Ae(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await Ie(),console.log("A-Frame Scene inicializado"),ke()):console.log("A-Frame desabilitado nas configuraÃ§Ãµes"),s.usarVideo!==!1?(console.log(`Inicializando cÃ¢mera (${s.cameraFacing||"user"})...`),await Ee(s),console.log("CÃ¢mera inicializada")):console.log("VÃ­deo desabilitado nas configuraÃ§Ãµes"),s.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await Ne(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configuraÃ§Ãµes"),console.log("InicializaÃ§Ã£o global concluÃ­da")}catch(s){throw console.error("Erro na inicializaÃ§Ã£o global:",s),s}})(),Z)}let Y=!1,Q=null,ae=null;function ke(){if(Y&&Q)return;const s=a=>{if(Y)return;Y=!0;const n=a;n.style.pointerEvents="auto",n.style.zIndex="2147483647",n.style.position="fixed",n.style.display="block",n.style.visibility="visible",n.style.opacity="1",a.querySelectorAll("*").forEach(l=>{l.style.pointerEvents="auto"}),a.querySelectorAll("button").forEach(l=>{l.style.pointerEvents="auto",l.style.cursor="pointer",l.style.zIndex="2147483647",l.style.position="relative"}),Q&&(Q.disconnect(),Q=null)};let r=null;Q=new MutationObserver(()=>{r&&clearTimeout(r),r=setTimeout(()=>{if(Y)return;const a=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');a&&s(a)},200)}),Q.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),ae&&clearTimeout(ae),ae=setTimeout(()=>{if(Y)return;const a=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]');a&&s(a)},1e3)}function Ae(){return new Promise(s=>{if(typeof window<"u"&&window.AFRAME){s();return}const r=()=>{typeof window<"u"&&window.AFRAME?s():setTimeout(r,100)};r()})}async function Ee(s){var r,a;try{const n=document.getElementById("arjs-video");if(n&&n.srcObject)return J=n,se=n.srcObject,se;const t=(s==null?void 0:s.cameraFacing)||"user",c=(s==null?void 0:s.cameraMirror)!==void 0?s.cameraMirror:t==="user";console.log(`ðŸ“· Configurando cÃ¢mera: facing=${t}, mirror=${c} (config: ${s==null?void 0:s.cameraMirror})`);const l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=await navigator.mediaDevices.getUserMedia({video:{width:l?{ideal:640,max:1280}:{ideal:1280},height:l?{ideal:480,max:720}:{ideal:720},facingMode:{ideal:t},...l&&{frameRate:{ideal:30,max:30}}},audio:!1});if(n)J=n,c?(J.style.transform="scaleX(-1)",console.log("ðŸªž VÃ­deo existente ESPELHADO")):(J.style.transform="scaleX(1)",console.log("ðŸ“· VÃ­deo existente NÃƒO ESPELHADO"));else{const u=document.createElement("video");u.id="arjs-video",u.setAttribute("playsinline",""),u.setAttribute("webkit-playsinline",""),u.setAttribute("autoplay",""),u.setAttribute("muted","true"),u.muted=!0,u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100vw",u.style.height="100vh",u.style.objectFit="cover",u.style.zIndex="0",u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",c?(u.style.transform="scaleX(-1)",console.log("ðŸªž CÃ¢mera ESPELHADA (mirror=true)")):(u.style.transform="scaleX(1)",console.log("ðŸ“· CÃ¢mera NÃƒO ESPELHADA (mirror=false)")),document.body.appendChild(u),J=u}return J.srcObject=o,se=o,await J.play(),console.log("âœ… CÃ¢mera inicializada:",{facing:t,mirror:c,mirrorConfig:s==null?void 0:s.cameraMirror,width:(r=o.getVideoTracks()[0])==null?void 0:r.getSettings().width,height:(a=o.getVideoTracks()[0])==null?void 0:a.getSettings().height}),o}catch(n){return console.warn("Erro ao inicializar cÃ¢mera global:",n),null}}async function Ne(){if(!window.faceapi)return new Promise((s,r)=>{const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",a.onload=()=>{console.log("face-api.js carregado"),s()},a.onerror=()=>r(new Error("Failed to load face-api.js")),document.head.appendChild(a)})}async function Ie(){if(document.querySelector("a-scene")){console.log("A-Frame Scene jÃ¡ existe");return}console.log("A-Frame Scene serÃ¡ criado pelo ARScreen com mindar-image desde o inÃ­cio")}const de=({onNavigate:s,onLoadingComplete:r})=>{const[a,n]=p.useState(0),[t,c]=p.useState("Inicializando...");return p.useEffect(()=>((async()=>{const o=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],y=(()=>{var j,h;const g=((h=(j=import.meta)==null?void 0:j.env)==null?void 0:h.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return g&&g!=="/"?g.endsWith("/")?g:g+"/":"/"})();try{c("Aguardando inicializaÃ§Ã£o..."),await pe(),c("Carregando recursos...");for(let g=0;g<o.length;g++){const b=o[g],j=`${y}${b.startsWith("/")?b.slice(1):b}`;if(b.endsWith(".json"))try{if(!(await fetch(j)).ok)throw new Error(`Failed to load ${b}`)}catch(i){console.warn(`Failed to load ${b}:`,i)}else await new Promise(i=>{const f=new Image;f.onload=()=>i(f),f.onerror=()=>{console.warn(`Failed to load image: ${j}`),i(null)},f.src=j});const h=Math.round((g+1)/o.length*100);n(h)}c("Finalizando..."),await new Promise(g=>setTimeout(g,300)),n(100),c("ConcluÃ­do!"),await new Promise(g=>setTimeout(g,200)),r==null||r(),s("cover","flip","left")}catch(g){console.error("Erro ao carregar recursos:",g),c("Erro ao carregar. Continuando..."),setTimeout(()=>{s("cover","flip","left")},1e3)}})(),()=>{}),[s,r]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${a}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[a,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})};const Le=({onNavigate:s,backgroundImage:r})=>{const n=(()=>{var b,j;const y=((j=(b=import.meta)==null?void 0:b.env)==null?void 0:j.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=y&&y!=="/"?y.endsWith("/")?y:y+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),t=y=>{if(n==="")return y.startsWith("/")?y:`/${y}`;const g=y.startsWith("/")?y.slice(1):y;return`${n}/${g}`},c=r||t("assets/images/bg-capa.png"),l=t("assets/images/header-capa.png"),o=t("assets/images/bottom-capa.png"),u=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${c}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:l,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>s("tutorial","zoom-out","right"),style:{backgroundImage:`url(${u})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:o,alt:"Bottom",className:"cover-bottom-img"})})]})};const Te=({onNavigate:s})=>{const a=(()=>{var y,g;const o=((g=(y=import.meta)==null?void 0:y.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),n=o=>{if(a==="")return o.startsWith("/")?o:`/${o}`;const u=o.startsWith("/")?o.slice(1):o;return`${a}/${u}`},t=n("assets/images/bg-capa.png"),c=n("assets/images/tutorial-panel.png"),l=n("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>s("ar","fade","right"),style:{backgroundImage:`url("${l}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},Pe=({onNavigate:s})=>{const a=(()=>{var y,g;const o=((g=(y=import.meta)==null?void 0:y.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),n=o=>{if(a==="")return o.startsWith("/")?o:`/${o}`;const u=o.startsWith("/")?o.slice(1):o;return`${a}/${u}`},t=n("assets/images/bg-capa.png"),c=n("assets/images/tutorial-panel-2.png"),l=n("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>s("ar","fade","right"),style:{backgroundImage:`url("${l}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const Ce=({onNavigate:s,backgroundImage:r})=>{const[a,n]=p.useState(!0),[t,c]=p.useState(1),[l,o]=p.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),u={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},g=(()=>{var P,m;const x=((m=(P=import.meta)==null?void 0:P.env)==null?void 0:m.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),I=x&&x!=="/"?x.endsWith("/")?x:x+"/":"/";return I==="/"?"":I.endsWith("/")?I.slice(0,-1):I})(),b=x=>{if(g==="")return x.startsWith("/")?x:`/${x}`;const I=x.startsWith("/")?x.slice(1):x;return`${g}/${I}`},j=r||b("assets/images/bg-capa.png"),h=b("assets/images/foguete-top.png"),i=b("assets/images/foguete-bottom.png"),f=b("assets/images/foguete-montagem.png"),z=b("assets/images/btn-jogar-foguete.png"),D=b("assets/images/btn-jogar-foguete-disable.png"),A=b("assets/images/btn-next.png"),F=b("assets/images/btn-back.png"),T=(x,I)=>{if(I===0)return null;const P=I.toString().padStart(2,"0");return b(`assets/images/pecas/${x}/${P}.png`)},U=T("ponta",l.ponta),M=T("corpo",l.corpo),E=T("janela",l.janela),L=T("asa",l.asa),N=T("jato",l.jato),W=x=>b(`assets/images/abas/0${x}${t===x?"":"-disable"}.png`),w=x=>{c(x);const I=u[x];l[I]===0&&I!=="ponta"&&o(m=>({...m,[I]:1}))},R=()=>{const x=u[t],I=l[x];I===0?o(P=>({...P,[x]:1})):I<3&&o(P=>({...P,[x]:I+1}))},S=()=>{const x=u[t],I=l[x];I>1&&x!=="ponta"&&o(P=>({...P,[x]:I-1}))},B=u[t],v=l[B],G=v<3,q=v>1&&B!=="ponta",_=v>0?T(B,v):null,V=l.ponta>0&&l.corpo>0&&l.janela>0&&l.asa>0&&l.jato>0;return p.useEffect(()=>{(async()=>{const P=(()=>{var $,O;const d=((O=($=import.meta)==null?void 0:$.env)==null?void 0:O.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),C=d&&d!=="/"?d.endsWith("/")?d:d+"/":"/";return C==="/"?"":C.endsWith("/")?C.slice(0,-1):C})(),m=d=>{if(P==="")return d.startsWith("/")?d:`/${d}`;const C=d.startsWith("/")?d.slice(1):d;return`${P}/${C}`},k=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const d=k.map(C=>new Promise($=>{const O=new Image;O.onload=()=>$(),O.onerror=()=>{console.warn(`Failed to load image: ${C}`),$()},O.src=m(C)}));await Promise.all(d),n(!1)}catch(d){console.error("Erro ao carregar imagens:",d),n(!1)}})()},[]),a?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${j}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:h,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(x=>e.jsx("button",{className:`rocket-tab ${t===x?"active":""}`,onClick:()=>w(x),style:{backgroundImage:`url("${W(x)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},x))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:f,alt:"Foguete Montagem",className:"rocket-montagem-img"}),U&&e.jsx("img",{src:U,alt:"Ponta",className:"rocket-ponta"}),M&&e.jsx("img",{src:M,alt:"Corpo",className:"rocket-corpo"}),E&&e.jsx("img",{src:E,alt:"Janela",className:"rocket-janela"}),L&&e.jsx("img",{src:L,alt:"Asa",className:"rocket-asa"}),N&&e.jsx("img",{src:N,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:i,alt:"Foguete Bottom",className:"rocket-bottom-img"}),_&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:_,alt:`Preview ${B}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:S,disabled:!q,style:{backgroundImage:`url("${F}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(l)),console.log("âœ… PeÃ§as do foguete salvas:",l)}catch(x){console.error("âŒ Erro ao salvar peÃ§as do foguete:",x)}s("tutorial2","fade","right")},disabled:!V,style:{backgroundImage:`url("${V?z:D}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:R,disabled:!G,style:{backgroundImage:`url("${A}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},be=p.createContext(void 0),Ue=()=>{const s=p.useContext(be);if(s===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return s},Fe=({children:s})=>{const[r,a]=p.useState(null),[n,t]=p.useState(!0),[c,l]=p.useState(null),o=async()=>{var g,b;try{t(!0),l(null),console.log("ðŸ”„ Carregando dados do RA...");const j=((b=(g=import.meta)==null?void 0:g.env)==null?void 0:b.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=`${j&&j!=="/"?j.endsWith("/")?j:j+"/":"/"}assets/data/ra.json`,f=await fetch(i);if(!f.ok)throw new Error(`Erro ao carregar dados: ${f.status}`);const z=await f.json();console.log("âœ… Dados do RA carregados:",z),a(z)}catch(j){const h=j instanceof Error?j.message:"Erro desconhecido";console.error("âŒ Erro ao carregar dados do RA:",h),l(h)}finally{t(!1)}},u=()=>{o()};p.useEffect(()=>{o()},[]);const y={raData:r,loading:n,error:c,refreshData:u};return e.jsx(be.Provider,{value:y,children:s})};const $e=({onNavigate:s})=>{const{raData:r}=Ue(),a=(r==null?void 0:r.configuracoes)||{},n=a.usarAFrame!==!1,t=a.debugVisual!==!1,[c,l]=p.useState(!0),[o,u]=p.useState(!1),[y,g]=p.useState(!1),[b,j]=p.useState(null),[h,i]=p.useState([]),[f,z]=p.useState(0),D=p.useRef(null),A=p.useRef(null),F=p.useRef(!0),T=p.useRef(!1),U=p.useRef([]),E=(()=>{var S,B;const w=((B=(S=import.meta)==null?void 0:S.env)==null?void 0:B.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),R=w&&w!=="/"?w.endsWith("/")?w:w+"/":"/";return R==="/"?"":R.endsWith("/")?R.slice(0,-1):R})(),L=w=>{if(E==="")return w.startsWith("/")?w:`/${w}`;const R=w.startsWith("/")?w.slice(1):w;return`${E}/${R}`},N=L("assets/mindar/targets.mind"),W=L("assets/images/target-image.png");return p.useEffect(()=>{const w=console.log,R=console.error,S=console.warn,B=(v,...G)=>{const q=G.map(V=>{if(typeof V=="object")try{return JSON.stringify(V,null,2)}catch{return String(V)}return String(V)}).join(" "),_={type:v,message:q.substring(0,200),timestamp:new Date().toLocaleTimeString()};U.current.push(_),U.current.length>50&&U.current.shift(),i([...U.current])};return console.log=(...v)=>{w.apply(console,v),B("log",...v)},console.error=(...v)=>{R.apply(console,v),B("error",...v)},console.warn=(...v)=>{S.apply(console,v),B("warn",...v)},()=>{console.log=w,console.error=R,console.warn=S}},[]),p.useEffect(()=>{const w=setInterval(()=>{z(R=>R+1)},1e3);return()=>{clearInterval(w)}},[]),p.useEffect(()=>{if(!n){l(!1);return}return(async()=>{try{const R=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);await new Promise(m=>{let k=0;const d=100,C=()=>{k++;const $=window.AFRAME,O=$&&$.components&&$.components["mindar-image"];$&&O?(console.log("âœ… A-Frame e MindAR prontos"),m()):k>=d?(console.warn("âš ï¸ MindAR nÃ£o detectado apÃ³s timeout, continuando..."),m()):setTimeout(C,100)};C()});let S=document.querySelector("a-scene#ar-scene-main");if(!S||!S.hasAttribute("mindar-image")){if(console.log("ðŸ”„ Criando a-scene com mindar-image desde o inÃ­cio (como no exemplo HTML)..."),S){try{S.parentNode?S.parentNode.removeChild(S):S.remove()}catch(H){console.warn("Erro ao remover scene antigo:",H)}await new Promise(H=>requestAnimationFrame(H))}const m=document.createElement("a-scene");m.id="ar-scene-main",m.setAttribute("embedded","true");const k=R?`imageTargetSrc: ${N}; maxTrack: 1; warmupTolerance: 0.1; missTolerance: 0.3;`:`imageTargetSrc: ${N};`;m.setAttribute("mindar-image",k),m.setAttribute("color-space","sRGB"),m.setAttribute("renderer","colorManagement: true, physicallyCorrectLights"),m.setAttribute("vr-mode-ui","enabled: false"),m.setAttribute("ar-mode-ui","enabled: false"),m.setAttribute("webxr","enabled: false"),m.setAttribute("device-orientation-permission-ui","enabled: true"),m.style.position="fixed",m.style.top="0",m.style.left="0",m.style.width="100%",m.style.height="100%",m.style.zIndex="1",m.style.background="transparent";const d=document.createElement("a-camera");d.setAttribute("position","0 0 0"),d.setAttribute("look-controls","enabled: false"),m.appendChild(d);const C=document.createElement("a-assets"),$=document.createElement("img");$.id="card",$.src=W,$.crossOrigin="anonymous",C.appendChild($),m.appendChild(C);const O=document.createElement("a-entity");O.setAttribute("mindar-image-target","targetIndex: 0");const X=document.createElement("a-plane");X.setAttribute("src","#card"),X.setAttribute("position","0 0 0"),X.setAttribute("height","0.552"),X.setAttribute("width","1"),X.setAttribute("rotation","0 0 0"),O.appendChild(X);const K=document.createElement("a-box");K.setAttribute("position","0 0.1 0"),K.setAttribute("rotation","0 45 0"),K.setAttribute("color","#4CC3D9"),K.setAttribute("scale","0.2 0.2 0.2"),K.setAttribute("animation","property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true"),O.appendChild(K),m.appendChild(O),document.body.appendChild(m),await new Promise(H=>{let oe=0;const he=50,re=()=>{oe++;const ie=document.querySelector("a-scene#ar-scene-main");ie&&ie.hasLoaded?H():oe>=he?(console.warn("âš ï¸ Timeout aguardando scene carregar"),H()):setTimeout(re,100)};re()}),S=document.querySelector("a-scene#ar-scene-main"),console.log("âœ… Scene criado com mindar-image desde o inÃ­cio"),R&&await new Promise(H=>setTimeout(H,500))}else console.log("âœ… Scene jÃ¡ tem mindar-image configurado");const B=()=>{document.querySelectorAll('.a-enter-vr-button, .a-enter-ar-button, [class*="vr-button"], [class*="enter-vr"], [class*="enter-ar"], [class*="cardboard"]').forEach(d=>{d&&(d.style.display="none",d.style.visibility="hidden",d.style.opacity="0",d.style.pointerEvents="none")}),document.querySelectorAll('div[class*="modal"], div[class*="ui"]').forEach(d=>{if(d){const C=d.textContent||d.innerText||"";C.toLowerCase().includes("cardboard")||C.toLowerCase().includes("insert phone")||d.classList.contains("a-vr-modal")||d.className&&d.className.includes("cardboard")?(d.style.display="none",d.style.visibility="hidden",d.style.opacity="0",d.style.pointerEvents="none"):d.classList.contains("a-orientation-modal")||d.classList.contains("a-orientation-permission-ui")||d.className&&d.className.includes("orientation-permission")}})};B(),D.current=setInterval(B,500);const v=document.getElementById("arjs-video");if(v){if(await new Promise(k=>{if(v.readyState>=2)k();else{const d=()=>{v.removeEventListener("canplay",d),v.removeEventListener("loadedmetadata",d),k()};v.addEventListener("canplay",d,{once:!0}),v.addEventListener("loadedmetadata",d,{once:!0}),setTimeout(()=>{v.removeEventListener("canplay",d),v.removeEventListener("loadedmetadata",d),console.warn("âš ï¸ Timeout aguardando vÃ­deo estar pronto"),k()},5e3)}}),v.paused)try{v.muted=!0,await v.play(),console.log("âœ… VÃ­deo iniciado para MindAR")}catch(k){console.warn("âš ï¸ Erro ao iniciar vÃ­deo:",k)}const m=a.cameraMirror!==void 0?a.cameraMirror:a.cameraFacing==="user";m?v.style.transform="scaleX(-1)":v.style.transform="scaleX(1)",v.style.display="block",v.style.visibility="visible",v.style.opacity="1",v.classList.add("ar-video-visible"),v.setAttribute("playsinline",""),v.setAttribute("webkit-playsinline",""),v.setAttribute("autoplay",""),v.muted=!0,console.log("ðŸ“¹ VÃ­deo tornado visÃ­vel para MindAR",{mirror:m,config:a.cameraMirror,readyState:v.readyState,paused:v.paused,videoWidth:v.videoWidth,videoHeight:v.videoHeight,isMobile:R}),R&&await new Promise(k=>requestAnimationFrame(k))}else console.warn("âš ï¸ VÃ­deo nÃ£o encontrado! O MindAR pode nÃ£o funcionar corretamente.");const G=m=>{console.log("âœ… MindAR image target carregado",m),F.current=!1,l(!1),u(!0),A.current&&(clearTimeout(A.current),A.current=null),t&&j(k=>({...k||{},mindarLoaded:!0,targetIndex:0,imageTargetSrc:N,loadedAt:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()}))},q=m=>{console.log("âœ… Target encontrado!",m),T.current=!0,g(!0),t&&j(k=>{const d={...k||{},targetFound:!0,targetFoundTime:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()};return console.log("ðŸ” Debug atualizado (target found):",d),d})},_=m=>{console.log("âš ï¸ Target perdido",m),T.current=!1,g(!1),t&&j(k=>{const d={...k||{},targetFound:!1,timestamp:new Date().toLocaleTimeString()};return console.log("ðŸ” Debug atualizado (target lost):",d),d})},V=m=>{console.error("âŒ Erro no MindAR:",m),t&&j(k=>({...k,error:m.detail||"Erro desconhecido"}))};S.addEventListener("mindar-image-loaded",G),S.addEventListener("mindar-image-target-found",q),S.addEventListener("mindar-image-target-lost",_),S.addEventListener("mindar-image-error",V);const x=S.querySelector("[mindar-image-target]");x&&(console.log("ðŸ“Œ Adicionando listeners na entidade target tambÃ©m"),x.addEventListener("targetFound",q),x.addEventListener("targetLost",_)),setTimeout(()=>{const m=S.systems&&S.systems["mindar-image-system"];m&&m.anchorEntities&&m.anchorEntities.length>0?(console.log("âœ… MindAR jÃ¡ configurado",{anchorEntities:m.anchorEntities.length,isMobile:R}),G({detail:"already-loaded"})):console.warn("âš ï¸ MindAR system nÃ£o encontrado ou nÃ£o inicializado",{hasSystem:!!m,isMobile:R})},R?3e3:2e3),A.current=setTimeout(()=>{F.current&&(console.warn("âš ï¸ MindAR nÃ£o inicializou no tempo esperado"),F.current=!1,l(!1))},1e4);let P=null;return t&&(P=setInterval(()=>{const m=document.getElementById("arjs-video"),k=document.querySelector("a-scene#ar-scene-main");j(d=>({...d||{},videoReady:m&&m.readyState>=2,videoWidth:m==null?void 0:m.videoWidth,videoHeight:m==null?void 0:m.videoHeight,sceneReady:k&&k.hasLoaded,timestamp:new Date().toLocaleTimeString(),targetFound:(d==null?void 0:d.targetFound)!==void 0?d.targetFound:!1,targetFoundTime:(d==null?void 0:d.targetFoundTime)||null}))},1e3)),()=>{S.removeEventListener("mindar-image-loaded",G),S.removeEventListener("mindar-image-target-found",q),S.removeEventListener("mindar-image-target-lost",_),S.removeEventListener("mindar-image-error",V);const m=S.querySelector("[mindar-image-target]");m&&(m.removeEventListener("targetFound",q),m.removeEventListener("targetLost",_)),P&&clearInterval(P),A.current&&(clearTimeout(A.current),A.current=null)}}catch(R){console.error("âŒ Erro ao configurar MindAR:",R),F.current=!1,l(!1),A.current&&(clearTimeout(A.current),A.current=null)}})(),()=>{D.current&&(clearInterval(D.current),D.current=null)}},[n,N,W,t]),e.jsxs("div",{className:"ar-game-screen",children:[c&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),n&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),o&&!c&&e.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"15px 25px",borderRadius:"10px",zIndex:1e4,textAlign:"center",fontSize:"16px"},children:y?"âœ… Target detectado!":"Aponte a cÃ¢mera para a imagem alvo"}),e.jsxs("div",{style:{position:"fixed",top:"10px",left:"10px",right:"10px",background:"rgba(0, 0, 0, 0.95)",color:"#0f0",padding:"15px",borderRadius:"8px",zIndex:10001,fontSize:"11px",fontFamily:"monospace",maxHeight:"80vh",overflow:"auto",border:"2px solid #0f0",boxShadow:"0 0 20px rgba(0, 255, 0, 0.5)"},children:[e.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #0f0",paddingBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"ðŸ” DEBUG CONSOLE"}),e.jsx("button",{onClick:()=>i([]),style:{background:"#f00",color:"#fff",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"LIMPAR"})]}),e.jsxs("div",{style:{marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px",color:"#0ff"},children:"ðŸ“Š STATUS"}),e.jsx("div",{style:{lineHeight:"1.6",fontSize:"10px"},children:(()=>{const w=document.getElementById("arjs-video"),R=document.querySelector("a-scene#ar-scene-main"),S=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["ðŸ“± Dispositivo: ",S?"MOBILE":"DESKTOP"]}),e.jsxs("div",{children:["ðŸ“· CÃ¢mera: ",a.cameraFacing||"user"]}),e.jsxs("div",{children:["ðŸªž Mirror: ",a.cameraMirror!==!1?"SIM":"NÃƒO"]}),w?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["ðŸ“¹ VÃ­deo: ",w.readyState>=2?"âœ… PRONTO":"â³ CARREGANDO"," (readyState: ",w.readyState,")"]}),e.jsxs("div",{children:["â–¶ï¸ Playing: ",w.paused?"âŒ PAUSADO":"âœ… TOCANDO"]}),w.videoWidth>0&&e.jsxs("div",{children:["ðŸ“ ResoluÃ§Ã£o: ",w.videoWidth,"x",w.videoHeight]}),e.jsxs("div",{children:["ðŸ”Š Muted: ",w.muted?"SIM":"NÃƒO"]})]}):e.jsx("div",{style:{color:"#f00"},children:"âŒ VÃ­deo nÃ£o encontrado!"}),R?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["ðŸŽ¬ Scene: ",R.hasLoaded?"âœ… CARREGADO":"â³ CARREGANDO"]}),e.jsxs("div",{children:["ðŸŽ¯ MindAR: ",R.hasAttribute("mindar-image")?"âœ… CONFIGURADO":"âŒ NÃƒO CONFIGURADO"]})]}):e.jsx("div",{style:{color:"#f00"},children:"âŒ Scene nÃ£o encontrado!"}),b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["ðŸ“ Arquivo: ",N.split("/").pop()]}),e.jsxs("div",{children:["ðŸŽ¯ Target: ",b.targetFound?"âœ… DETECTADO":"âŒ NÃƒO DETECTADO"]}),b.error&&e.jsxs("div",{style:{color:"#f00"},children:["âŒ Erro: ",String(b.error)]})]})]})})()})]}),e.jsxs("div",{style:{maxHeight:"50vh",overflow:"auto"},children:[e.jsxs("div",{style:{fontWeight:"bold",marginBottom:"5px",color:"#0ff"},children:["ðŸ“ CONSOLE LOGS (",h.length,")"]}),h.length===0?e.jsx("div",{style:{color:"#666",fontStyle:"italic"},children:"Nenhum log ainda..."}):e.jsx("div",{style:{lineHeight:"1.4"},children:h.slice(-20).reverse().map((w,R)=>e.jsxs("div",{style:{marginBottom:"4px",padding:"4px",background:w.type==="error"?"rgba(255, 0, 0, 0.2)":w.type==="warn"?"rgba(255, 255, 0, 0.2)":"rgba(0, 255, 0, 0.1)",borderRadius:"3px",borderLeft:`3px solid ${w.type==="error"?"#f00":w.type==="warn"?"#ff0":"#0f0"}`,fontSize:"10px",wordBreak:"break-word"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"9px"},children:["[",w.timestamp,"]"]})," ",e.jsxs("span",{style:{color:w.type==="error"?"#f00":w.type==="warn"?"#ff0":"#0f0"},children:[w.type.toUpperCase(),":"]})," ",e.jsx("span",{style:{color:"#fff"},children:w.message})]},R))})]})]})]})};const ze=({onNavigate:s})=>{const[r,a]=p.useState(null);p.useEffect(()=>{const g=(b=0)=>{const j=localStorage.getItem("ar-result");console.log(`Tentativa ${b+1}: resultado no localStorage =`,j),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),j==="acerto"||j==="erro"?a(j):b<5?setTimeout(()=>g(b+1),100):(console.error("Resultado nÃ£o encontrado no localStorage apÃ³s mÃºltiplas tentativas, voltando para cover"),s("cover","zoom-in","left"))};g(0)},[s]);const t=(()=>{var j,h;const g=((h=(j=import.meta)==null?void 0:j.env)==null?void 0:h.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),b=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return b==="/"?"":b.endsWith("/")?b.slice(0,-1):b})(),c=g=>{if(t==="")return g.startsWith("/")?g:`/${g}`;const b=g.startsWith("/")?g.slice(1):g;return`${t}/${b}`},l={bgCapa:c("assets/images/bg-capa.png"),modalAcerto:c("assets/images/modal-acerto.png"),modalErro:c("assets/images/modal-erro.png"),btnRegistrar:c("assets/images/btn-registrar.png"),btnInicio:c("assets/images/btn-inicio.png"),btnVoltar:c("assets/images/btn-voltar.png")},o=()=>{s("selfie","fade","up")},u=()=>{s("cover","zoom-in","left")},y=()=>{s("ar","fade","left")};return r?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${l.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:r==="acerto"?l.modalAcerto:l.modalErro,alt:r==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),r==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:o,style:{backgroundImage:`url(${l.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:u,style:{backgroundImage:`url(${l.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),r==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:y,style:{backgroundImage:`url(${l.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},ne={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Be=({onNavigate:s,onSettingsChange:r})=>{const[a,n]=p.useState(ne),t=(o,u)=>{const y={...a,[o]:u};n(y),r==null||r(y)},c=()=>{s("ar")},l=()=>{n(ne),r==null||r(ne)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:c,children:"â† Voltar"}),e.jsx("h1",{className:"settings-title",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:a.quality,onChange:o=>t("quality",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"MÃ©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.enableSound,onChange:o=>t("enableSound",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"VibraÃ§Ã£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.enableVibration,onChange:o=>t("enableVibration",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibraÃ§Ã£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.autoSave,onChange:o=>t("autoSave",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:a.language,onChange:o=>t("language",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"PortuguÃªs"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"EspaÃ±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:l,children:"Restaurar PadrÃµes"}),e.jsx("button",{className:"settings-button primary",onClick:c,children:"Salvar"})]})]})},Oe=({onNavigate:s,appName:r="Realidade Aumentada",version:a="1.0.0",description:n="Uma aplicaÃ§Ã£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const c=()=>{s("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:c,children:"â† Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:r}),e.jsxs("p",{className:"app-version",children:["VersÃ£o ",a]}),e.jsx("p",{className:"app-description",children:n})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"RenderizaÃ§Ã£o 3D em tempo real"}),e.jsx("li",{children:"AdiÃ§Ã£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"LicenÃ§a"}),e.jsx("p",{children:"MIT License - CÃ³digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:c,children:"Voltar ao InÃ­cio"})})]})},Me=({onNavigate:s})=>{const r=()=>{s("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"ðŸŽ‰"}),e.jsx("h1",{className:"final-title",children:"ParabÃ©ns!"}),e.jsx("p",{className:"final-subtitle",children:"VocÃª completou a experiÃªncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que vocÃª tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"âœ“"}),e.jsx("div",{className:"stat-label",children:"ExperiÃªncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:r,children:"Jogar Novamente"})})]})})};const De=()=>{const s=p.useRef(null),r=p.useRef(null),a=p.useRef(null),n=p.useRef(null),[t,c]=p.useState(!1),o=(()=>{var f,z;const h=((z=(f=import.meta)==null?void 0:f.env)==null?void 0:z.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=h&&h!=="/"?h.endsWith("/")?h:h+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),u=h=>{if(o==="")return h.startsWith("/")?h:`/${h}`;const i=h.startsWith("/")?h.slice(1):h;return`${o}/${i}`},y=u("assets/images/selfie-top.png"),g=u("assets/images/selfie-bottom.png"),b=u("assets/images/camera-icon.png");p.useEffect(()=>{async function h(){try{let i=document.getElementById("selfie-video");if(i&&i.srcObject){i.classList.add("selfie-video-visible"),s.current=i;return}const f=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","selfie-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.classList.add("selfie-video-visible"),document.body.appendChild(i)),i.srcObject=f,r.current=f,s.current=i,await i.play()}catch(i){console.error("Erro ao inicializar cÃ¢mera:",i)}}return h(),()=>{}},[]),p.useEffect(()=>{(()=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{a.current=i},i.onerror=()=>{console.warn("Erro ao carregar imagem top")},i.src=y;const f=new Image;f.crossOrigin="anonymous",f.onload=()=>{n.current=f},f.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},f.src=g})()},[y,g]);const j=async()=>{if(!(!s.current||t)){c(!0);try{const h=s.current,i=document.createElement("canvas");i.width=window.innerWidth,i.height=window.innerHeight;const f=i.getContext("2d");if(!f){c(!1);return}const z=(h.videoWidth||h.clientWidth)/(h.videoHeight||h.clientHeight),D=i.width/i.height;let A=i.width,F=i.height,T=0,U=0;if(z>D?(F=i.width/z,U=(i.height-F)/2):(A=i.height*z,T=(i.width-A)/2),f.drawImage(h,T,U,A,F),await(()=>new Promise(E=>{if(a.current&&n.current)E();else{const L=setInterval(()=>{a.current&&n.current&&(clearInterval(L),E())},50);setTimeout(()=>{clearInterval(L),E()},2e3)}}))(),a.current){const E=a.current,L=E.naturalWidth/E.naturalHeight,N=i.width/L;f.drawImage(E,0,0,i.width,N)}if(n.current){const E=n.current,L=E.naturalWidth/E.naturalHeight,N=i.width/L;f.drawImage(E,0,i.height-N,i.width,N)}i.toBlob(async E=>{if(E)try{if(navigator.share&&navigator.canShare){const L=new File([E],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[L]}))await navigator.share({files:[L],title:"Minha Selfie",text:"Confira minha selfie!"});else{const N=URL.createObjectURL(E);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:N}),URL.revokeObjectURL(N)}}else{const L=URL.createObjectURL(E),N=document.createElement("a");N.href=L,N.download=`selfie-${Date.now()}.png`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(L)}}catch(L){if(L instanceof Error&&L.name!=="AbortError"){console.error("Erro ao compartilhar:",L);const N=URL.createObjectURL(E),W=document.createElement("a");W.href=N,W.download=`selfie-${Date.now()}.png`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(N)}}c(!1)},"image/png")}catch(h){console.error("Erro ao capturar foto:",h),c(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:y,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:g,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:j,disabled:t,style:{backgroundImage:`url(${b})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const We=({initialScreen:s="loading",appConfig:r,defaultTransition:a="zoom-out",defaultDirection:n="right"})=>{const[t,c]=p.useState(s||"loading"),[l,o]=p.useState(!1),[u,y]=p.useState(a),[g,b]=p.useState(n),[j,h]=p.useState(null);p.useEffect(()=>{console.log("ðŸŽ¬ ScreenManager inicializado com tela:",t)},[]),p.useEffect(()=>{if(!l){const A=setTimeout(()=>{t!=="loading"&&h(null)},1e3);return()=>clearTimeout(A)}},[t,l]);const i=(A,F)=>{const T=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],U=T.indexOf(A),M=T.indexOf(F);return M>U?"right":M<U?"left":"right"},f=(A,F,T)=>{const U=F||u,M=T||i(t,A);h(t),y(U),b(M);const E=t==="loading"?800:300;o(!0),setTimeout(()=>{c(A),o(!1)},E)},z=()=>{switch(t){case"loading":return e.jsx(de,{onNavigate:f});case"cover":return e.jsx(Le,{onNavigate:f,title:r.title,subtitle:r.subtitle});case"tutorial":return e.jsx(Te,{onNavigate:f});case"rocket":return e.jsx(Ce,{onNavigate:f});case"tutorial2":return e.jsx(Pe,{onNavigate:f});case"ar":return e.jsx($e,{onNavigate:f});case"resultado":return e.jsx(ze,{onNavigate:f});case"final":return e.jsx(Me,{onNavigate:f});case"settings":return e.jsx(Be,{onNavigate:f});case"about":return e.jsx(Oe,{onNavigate:f});case"selfie":return e.jsx(De,{onNavigate:f});default:return e.jsx(de,{onNavigate:f})}},D=()=>{const A="screen-manager",F=`transition-${u}`,T=`direction-${g}`,U=l?"transitioning":"",M=j?`from-${j}`:"";return`${A} ${F} ${T} ${U} ${M}`.trim()};return e.jsx("div",{className:D(),children:z()})},Ve=()=>{const[s,r]=p.useState(!1),a=()=>{const n=window.innerWidth,t=window.innerHeight,c=n>t,l=navigator.userAgent.toLowerCase(),o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(l)||"ontouchstart"in window||navigator.maxTouchPoints>0,u=n<=768;o&&c||u&&c?(r(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(r(!1),document.body.style.overflow="",document.body.style.touchAction="")};return p.useEffect(()=>{a();let n,t;const c=()=>{clearTimeout(n),n=setTimeout(()=>{a()},100)},l=()=>{clearTimeout(t),t=setTimeout(()=>{a()},300)},o=()=>{clearTimeout(t),t=setTimeout(()=>{a()},300)},u=b=>{clearTimeout(t),t=setTimeout(()=>{a()},100)};window.addEventListener("resize",c),window.addEventListener("orientationchange",l),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",o);const y=window.matchMedia("(orientation: landscape)");y.addEventListener("change",u);const g=setInterval(()=>{a()},2e3);return()=>{clearTimeout(n),clearTimeout(t),clearInterval(g),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",l),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",o),y.removeEventListener("change",u),document.body.style.overflow="",document.body.style.touchAction=""}},[]),s?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"ðŸ“±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experiÃªncia de Realidade Aumentada, mantenha seu dispositivo na orientaÃ§Ã£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function ue(){const s={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Fe,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(Ve,{}),e.jsx(We,{initialScreen:"loading",appConfig:s})]})})}pe().then(()=>{console.log("InicializaÃ§Ã£o global completa, iniciando React..."),ee.createRoot(document.getElementById("root")).render(e.jsx(ce.StrictMode,{children:e.jsx(ue,{})}))}).catch(s=>{console.error("Erro na inicializaÃ§Ã£o global:",s),ee.createRoot(document.getElementById("root")).render(e.jsx(ce.StrictMode,{children:e.jsx(ue,{})}))});
//# sourceMappingURL=index-7b89353e.js.map
