import{r as v,a as de,R as se}from"./vendor-b1791c80.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}})();var re={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=v,ue=Symbol.for("react.element"),me=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,be=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,he={key:!0,ref:!0,__self:!0,__source:!0};function ie(a,i,n){var r,t={},l=null,c=null;n!==void 0&&(l=""+n),i.key!==void 0&&(l=""+i.key),i.ref!==void 0&&(c=i.ref);for(r in i)pe.call(i,r)&&!he.hasOwnProperty(r)&&(t[r]=i[r]);if(a&&a.defaultProps)for(r in i=a.defaultProps,i)t[r]===void 0&&(t[r]=i[r]);return{$$typeof:ue,type:a,key:l,ref:c,props:t,_owner:be.current}}K.Fragment=me;K.jsx=ie;K.jsxs=ie;re.exports=K;var e=re.exports,Y={},ae=de;Y.createRoot=ae.createRoot,Y.hydrateRoot=ae.hydrateRoot;let W=null,Z=null,Q=null;async function fe(){var a,i;try{const n=((i=(a=import.meta)==null?void 0:a.env)==null?void 0:i.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),t=`${n&&n!=="/"?n.endsWith("/")?n:n+"/":"/"}assets/data/ra.json`,l=await fetch(t);return l.ok?(await l.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("N√£o foi poss√≠vel carregar ra.json, usando configura√ß√µes padr√£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(n){return console.warn("Erro ao carregar configura√ß√µes do RA, usando padr√£o:",n),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function ce(){return Q||(Q=(async()=>{try{console.log("Iniciando inicializa√ß√£o global...");const a=await fe();console.log("Configura√ß√µes do RA:",a),a.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await xe(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await we(),console.log("A-Frame Scene inicializado"),ve()):console.log("A-Frame desabilitado nas configura√ß√µes"),a.usarVideo!==!1?(console.log(`Inicializando c√¢mera (${a.cameraFacing||"user"})...`),await je(a),console.log("C√¢mera inicializada")):console.log("V√≠deo desabilitado nas configura√ß√µes"),a.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await ye(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configura√ß√µes"),console.log("Inicializa√ß√£o global conclu√≠da")}catch(a){throw console.error("Erro na inicializa√ß√£o global:",a),a}})(),Q)}let G=!1,H=null,ee=null;function ve(){if(G&&H)return;const a=n=>{if(G)return;G=!0;const r=n;r.style.pointerEvents="auto",r.style.zIndex="2147483647",r.style.position="fixed",r.style.display="block",r.style.visibility="visible",r.style.opacity="1",n.querySelectorAll("*").forEach(c=>{c.style.pointerEvents="auto"}),n.querySelectorAll("button").forEach(c=>{c.style.pointerEvents="auto",c.style.cursor="pointer",c.style.zIndex="2147483647",c.style.position="relative"}),H&&(H.disconnect(),H=null)};let i=null;H=new MutationObserver(()=>{i&&clearTimeout(i),i=setTimeout(()=>{if(G)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');n&&a(n)},200)}),H.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),ee&&clearTimeout(ee),ee=setTimeout(()=>{if(G)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]');n&&a(n)},1e3)}function xe(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){a();return}const i=()=>{typeof window<"u"&&window.AFRAME?a():setTimeout(i,100)};i()})}async function je(a){var i,n;try{const r=document.getElementById("arjs-video");if(r&&r.srcObject)return W=r,Z=r.srcObject,Z;const t=(a==null?void 0:a.cameraFacing)||"user",l=(a==null?void 0:a.cameraMirror)!==void 0?a.cameraMirror:t==="user";console.log(`üì∑ Configurando c√¢mera: facing=${t}, mirror=${l} (config: ${a==null?void 0:a.cameraMirror})`);const c=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:t}},audio:!1});if(r)W=r,l?(W.style.transform="scaleX(-1)",console.log("ü™û V√≠deo existente ESPELHADO")):(W.style.transform="scaleX(1)",console.log("üì∑ V√≠deo existente N√ÉO ESPELHADO"));else{const s=document.createElement("video");s.id="arjs-video",s.setAttribute("playsinline",""),s.setAttribute("autoplay",""),s.muted=!0,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100vw",s.style.height="100vh",s.style.objectFit="cover",s.style.zIndex="0",s.style.display="none",s.style.visibility="hidden",s.style.opacity="0",l?(s.style.transform="scaleX(-1)",console.log("ü™û C√¢mera ESPELHADA (mirror=true)")):(s.style.transform="scaleX(1)",console.log("üì∑ C√¢mera N√ÉO ESPELHADA (mirror=false)")),document.body.appendChild(s),W=s}return W.srcObject=c,Z=c,await W.play(),console.log("‚úÖ C√¢mera inicializada:",{facing:t,mirror:l,mirrorConfig:a==null?void 0:a.cameraMirror,width:(i=c.getVideoTracks()[0])==null?void 0:i.getSettings().width,height:(n=c.getVideoTracks()[0])==null?void 0:n.getSettings().height}),c}catch(r){return console.warn("Erro ao inicializar c√¢mera global:",r),null}}async function ye(){if(!window.faceapi)return new Promise((a,i)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),a()},n.onerror=()=>i(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function we(){if(document.querySelector("a-scene")){console.log("A-Frame Scene j√° existe");return}console.log("A-Frame Scene ser√° criado pelo ARScreen com mindar-image desde o in√≠cio")}const ne=({onNavigate:a,onLoadingComplete:i})=>{const[n,r]=v.useState(0),[t,l]=v.useState("Inicializando...");return v.useEffect(()=>((async()=>{const s=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],j=(()=>{var y,b;const d=((b=(y=import.meta)==null?void 0:y.env)==null?void 0:b.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return d&&d!=="/"?d.endsWith("/")?d:d+"/":"/"})();try{l("Aguardando inicializa√ß√£o..."),await ce(),l("Carregando recursos...");for(let d=0;d<s.length;d++){const u=s[d],y=`${j}${u.startsWith("/")?u.slice(1):u}`;if(u.endsWith(".json"))try{if(!(await fetch(y)).ok)throw new Error(`Failed to load ${u}`)}catch(o){console.warn(`Failed to load ${u}:`,o)}else await new Promise(o=>{const h=new Image;h.onload=()=>o(h),h.onerror=()=>{console.warn(`Failed to load image: ${y}`),o(null)},h.src=y});const b=Math.round((d+1)/s.length*100);r(b)}l("Finalizando..."),await new Promise(d=>setTimeout(d,300)),r(100),l("Conclu√≠do!"),await new Promise(d=>setTimeout(d,200)),i==null||i(),a("cover","flip","left")}catch(d){console.error("Erro ao carregar recursos:",d),l("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover","flip","left")},1e3)}})(),()=>{}),[a,i]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})};const Re=({onNavigate:a,backgroundImage:i})=>{const r=(()=>{var u,y;const j=((y=(u=import.meta)==null?void 0:u.env)==null?void 0:y.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=j&&j!=="/"?j.endsWith("/")?j:j+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),t=j=>{if(r==="")return j.startsWith("/")?j:`/${j}`;const d=j.startsWith("/")?j.slice(1):j;return`${r}/${d}`},l=i||t("assets/images/bg-capa.png"),c=t("assets/images/header-capa.png"),s=t("assets/images/bottom-capa.png"),x=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${l}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:c,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial","zoom-out","right"),style:{backgroundImage:`url(${x})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:s,alt:"Bottom",className:"cover-bottom-img"})})]})};const ke=({onNavigate:a})=>{const n=(()=>{var j,d;const s=((d=(j=import.meta)==null?void 0:j.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),x=s&&s!=="/"?s.endsWith("/")?s:s+"/":"/";return x==="/"?"":x.endsWith("/")?x.slice(0,-1):x})(),r=s=>{if(n==="")return s.startsWith("/")?s:`/${s}`;const x=s.startsWith("/")?s.slice(1):s;return`${n}/${x}`},t=r("assets/images/bg-capa.png"),l=r("assets/images/tutorial-panel.png"),c=r("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:l,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar","fade","right"),style:{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},Se=({onNavigate:a})=>{const n=(()=>{var j,d;const s=((d=(j=import.meta)==null?void 0:j.env)==null?void 0:d.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),x=s&&s!=="/"?s.endsWith("/")?s:s+"/":"/";return x==="/"?"":x.endsWith("/")?x.slice(0,-1):x})(),r=s=>{if(n==="")return s.startsWith("/")?s:`/${s}`;const x=s.startsWith("/")?s.slice(1):s;return`${n}/${x}`},t=r("assets/images/bg-capa.png"),l=r("assets/images/tutorial-panel-2.png"),c=r("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:l,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar","fade","right"),style:{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const Ne=({onNavigate:a,backgroundImage:i})=>{const[n,r]=v.useState(!0),[t,l]=v.useState(1),[c,s]=v.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),x={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},d=(()=>{var N,F;const p=((F=(N=import.meta)==null?void 0:N.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),w=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return w==="/"?"":w.endsWith("/")?w.slice(0,-1):w})(),u=p=>{if(d==="")return p.startsWith("/")?p:`/${p}`;const w=p.startsWith("/")?p.slice(1):p;return`${d}/${w}`},y=i||u("assets/images/bg-capa.png"),b=u("assets/images/foguete-top.png"),o=u("assets/images/foguete-bottom.png"),h=u("assets/images/foguete-montagem.png"),L=u("assets/images/btn-jogar-foguete.png"),D=u("assets/images/btn-jogar-foguete-disable.png"),T=u("assets/images/btn-next.png"),U=u("assets/images/btn-back.png"),A=(p,w)=>{if(w===0)return null;const N=w.toString().padStart(2,"0");return u(`assets/images/pecas/${p}/${N}.png`)},C=A("ponta",c.ponta),S=A("corpo",c.corpo),m=A("janela",c.janela),k=A("asa",c.asa),R=A("jato",c.jato),z=p=>u(`assets/images/abas/0${p}${t===p?"":"-disable"}.png`),_=p=>{l(p);const w=x[p];c[w]===0&&w!=="ponta"&&s(F=>({...F,[w]:1}))},V=()=>{const p=x[t],w=c[p];w===0?s(N=>({...N,[p]:1})):w<3&&s(N=>({...N,[p]:w+1}))},J=()=>{const p=x[t],w=c[p];w>1&&p!=="ponta"&&s(N=>({...N,[p]:w-1}))},B=x[t],M=c[B],g=M<3,E=M>1&&B!=="ponta",f=M>0?A(B,M):null,P=c.ponta>0&&c.corpo>0&&c.janela>0&&c.asa>0&&c.jato>0;return v.useEffect(()=>{(async()=>{const N=(()=>{var O,q;const I=((q=(O=import.meta)==null?void 0:O.env)==null?void 0:q.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),$=I&&I!=="/"?I.endsWith("/")?I:I+"/":"/";return $==="/"?"":$.endsWith("/")?$.slice(0,-1):$})(),F=I=>{if(N==="")return I.startsWith("/")?I:`/${I}`;const $=I.startsWith("/")?I.slice(1):I;return`${N}/${$}`},X=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const I=X.map($=>new Promise(O=>{const q=new Image;q.onload=()=>O(),q.onerror=()=>{console.warn(`Failed to load image: ${$}`),O()},q.src=F($)}));await Promise.all(I),r(!1)}catch(I){console.error("Erro ao carregar imagens:",I),r(!1)}})()},[]),n?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${y}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:b,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(p=>e.jsx("button",{className:`rocket-tab ${t===p?"active":""}`,onClick:()=>_(p),style:{backgroundImage:`url("${z(p)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},p))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:h,alt:"Foguete Montagem",className:"rocket-montagem-img"}),C&&e.jsx("img",{src:C,alt:"Ponta",className:"rocket-ponta"}),S&&e.jsx("img",{src:S,alt:"Corpo",className:"rocket-corpo"}),m&&e.jsx("img",{src:m,alt:"Janela",className:"rocket-janela"}),k&&e.jsx("img",{src:k,alt:"Asa",className:"rocket-asa"}),R&&e.jsx("img",{src:R,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:o,alt:"Foguete Bottom",className:"rocket-bottom-img"}),f&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:f,alt:`Preview ${B}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:J,disabled:!E,style:{backgroundImage:`url("${U}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(c)),console.log("‚úÖ Pe√ßas do foguete salvas:",c)}catch(p){console.error("‚ùå Erro ao salvar pe√ßas do foguete:",p)}a("tutorial2","fade","right")},disabled:!P,style:{backgroundImage:`url("${P?L:D}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:V,disabled:!g,style:{backgroundImage:`url("${T}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},le=v.createContext(void 0),Ae=()=>{const a=v.useContext(le);if(a===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return a},Ee=({children:a})=>{const[i,n]=v.useState(null),[r,t]=v.useState(!0),[l,c]=v.useState(null),s=async()=>{var d,u;try{t(!0),c(null),console.log("üîÑ Carregando dados do RA...");const y=((u=(d=import.meta)==null?void 0:d.env)==null?void 0:u.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=`${y&&y!=="/"?y.endsWith("/")?y:y+"/":"/"}assets/data/ra.json`,h=await fetch(o);if(!h.ok)throw new Error(`Erro ao carregar dados: ${h.status}`);const L=await h.json();console.log("‚úÖ Dados do RA carregados:",L),n(L)}catch(y){const b=y instanceof Error?y.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",b),c(b)}finally{t(!1)}},x=()=>{s()};v.useEffect(()=>{s()},[]);const j={raData:i,loading:r,error:l,refreshData:x};return e.jsx(le.Provider,{value:j,children:a})};const Ie=({onNavigate:a})=>{const{raData:i}=Ae(),n=(i==null?void 0:i.configuracoes)||{},r=n.usarAFrame!==!1,t=n.debugVisual!==!1,[l,c]=v.useState(!0),[s,x]=v.useState(!1),[j,d]=v.useState(!1),[u,y]=v.useState(null),b=v.useRef(null),o=v.useRef(null),h=v.useRef(!0),L=v.useRef(!1),T=(()=>{var k,R;const S=((R=(k=import.meta)==null?void 0:k.env)==null?void 0:R.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),m=S&&S!=="/"?S.endsWith("/")?S:S+"/":"/";return m==="/"?"":m.endsWith("/")?m.slice(0,-1):m})(),U=S=>{if(T==="")return S.startsWith("/")?S:`/${S}`;const m=S.startsWith("/")?S.slice(1):S;return`${T}/${m}`},A=U("assets/mindar/targets.mind"),C=U("assets/images/target-image.png");return v.useEffect(()=>{if(!r){c(!1);return}return(async()=>{try{await new Promise(g=>{let E=0;const f=100,P=()=>{E++;const p=window.AFRAME,w=p&&p.components&&p.components["mindar-image"];p&&w?(console.log("‚úÖ A-Frame e MindAR prontos"),g()):E>=f?(console.warn("‚ö†Ô∏è MindAR n√£o detectado ap√≥s timeout, continuando..."),g()):setTimeout(P,100)};P()});let m=document.querySelector("a-scene#ar-scene-main");if(!m||!m.hasAttribute("mindar-image")){if(console.log("üîÑ Criando a-scene com mindar-image desde o in√≠cio (como no exemplo HTML)..."),m){try{m.parentNode?m.parentNode.removeChild(m):m.remove()}catch(F){console.warn("Erro ao remover scene antigo:",F)}await new Promise(F=>requestAnimationFrame(F))}const g=document.createElement("a-scene");g.id="ar-scene-main",g.setAttribute("embedded","true"),g.setAttribute("mindar-image",`imageTargetSrc: ${A};`),g.setAttribute("color-space","sRGB"),g.setAttribute("renderer","colorManagement: true, physicallyCorrectLights"),g.setAttribute("vr-mode-ui","enabled: false"),g.setAttribute("ar-mode-ui","enabled: false"),g.setAttribute("webxr","enabled: false"),g.setAttribute("device-orientation-permission-ui","enabled: true"),g.style.position="fixed",g.style.top="0",g.style.left="0",g.style.width="100%",g.style.height="100%",g.style.zIndex="1",g.style.background="transparent";const E=document.createElement("a-camera");E.setAttribute("position","0 0 0"),E.setAttribute("look-controls","enabled: false"),g.appendChild(E);const f=document.createElement("a-assets"),P=document.createElement("img");P.id="card",P.src=C,P.crossOrigin="anonymous",f.appendChild(P),g.appendChild(f);const p=document.createElement("a-entity");p.setAttribute("mindar-image-target","targetIndex: 0");const w=document.createElement("a-plane");w.setAttribute("src","#card"),w.setAttribute("position","0 0 0"),w.setAttribute("height","0.552"),w.setAttribute("width","1"),w.setAttribute("rotation","0 0 0"),p.appendChild(w);const N=document.createElement("a-box");N.setAttribute("position","0 0.1 0"),N.setAttribute("rotation","0 45 0"),N.setAttribute("color","#4CC3D9"),N.setAttribute("scale","0.2 0.2 0.2"),N.setAttribute("animation","property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true"),p.appendChild(N),g.appendChild(p),document.body.appendChild(g),await new Promise(F=>{let X=0;const I=50,$=()=>{X++;const O=document.querySelector("a-scene#ar-scene-main");O&&O.hasLoaded?F():X>=I?(console.warn("‚ö†Ô∏è Timeout aguardando scene carregar"),F()):setTimeout($,100)};$()}),m=document.querySelector("a-scene#ar-scene-main"),console.log("‚úÖ Scene criado com mindar-image desde o in√≠cio")}else console.log("‚úÖ Scene j√° tem mindar-image configurado");const k=()=>{document.querySelectorAll('.a-enter-vr-button, .a-enter-ar-button, [class*="vr-button"], [class*="enter-vr"], [class*="enter-ar"], [class*="cardboard"]').forEach(f=>{f&&(f.style.display="none",f.style.visibility="hidden",f.style.opacity="0",f.style.pointerEvents="none")}),document.querySelectorAll('div[class*="modal"], div[class*="ui"]').forEach(f=>{if(f){const P=f.textContent||f.innerText||"";P.toLowerCase().includes("cardboard")||P.toLowerCase().includes("insert phone")||f.classList.contains("a-vr-modal")||f.className&&f.className.includes("cardboard")?(f.style.display="none",f.style.visibility="hidden",f.style.opacity="0",f.style.pointerEvents="none"):f.classList.contains("a-orientation-modal")||f.classList.contains("a-orientation-permission-ui")||f.className&&f.className.includes("orientation-permission")}})};k(),b.current=setInterval(k,500);const R=document.getElementById("arjs-video");if(R){const g=n.cameraMirror!==void 0?n.cameraMirror:n.cameraFacing==="user";g?R.style.transform="scaleX(-1)":R.style.transform="scaleX(1)",R.style.display="block",R.style.visibility="visible",R.style.opacity="1",R.classList.add("ar-video-visible"),console.log("üìπ V√≠deo tornado vis√≠vel para MindAR",{mirror:g,config:n.cameraMirror})}const z=g=>{console.log("‚úÖ MindAR image target carregado",g),h.current=!1,c(!1),x(!0),o.current&&(clearTimeout(o.current),o.current=null),t&&y(E=>({...E||{},mindarLoaded:!0,targetIndex:0,imageTargetSrc:A,loadedAt:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()}))},_=g=>{console.log("‚úÖ Target encontrado!",g),L.current=!0,d(!0),t&&y(E=>{const f={...E||{},targetFound:!0,targetFoundTime:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target found):",f),f})},V=g=>{console.log("‚ö†Ô∏è Target perdido",g),L.current=!1,d(!1),t&&y(E=>{const f={...E||{},targetFound:!1,timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target lost):",f),f})},J=g=>{console.error("‚ùå Erro no MindAR:",g),t&&y(E=>({...E,error:g.detail||"Erro desconhecido"}))};m.addEventListener("mindar-image-loaded",z),m.addEventListener("mindar-image-target-found",_),m.addEventListener("mindar-image-target-lost",V),m.addEventListener("mindar-image-error",J);const B=m.querySelector("[mindar-image-target]");B&&(console.log("üìå Adicionando listeners na entidade target tamb√©m"),B.addEventListener("targetFound",_),B.addEventListener("targetLost",V)),setTimeout(()=>{const g=m.systems&&m.systems["mindar-image-system"];g&&g.anchorEntities&&g.anchorEntities.length>0&&(console.log("‚úÖ MindAR j√° configurado"),z({detail:"already-loaded"}))},2e3),o.current=setTimeout(()=>{h.current&&(console.warn("‚ö†Ô∏è MindAR n√£o inicializou no tempo esperado"),h.current=!1,c(!1))},1e4);let M=null;return t&&(M=setInterval(()=>{const g=document.getElementById("arjs-video"),E=document.querySelector("a-scene#ar-scene-main");y(f=>({...f||{},videoReady:g&&g.readyState>=2,videoWidth:g==null?void 0:g.videoWidth,videoHeight:g==null?void 0:g.videoHeight,sceneReady:E&&E.hasLoaded,timestamp:new Date().toLocaleTimeString(),targetFound:(f==null?void 0:f.targetFound)!==void 0?f.targetFound:!1,targetFoundTime:(f==null?void 0:f.targetFoundTime)||null}))},1e3)),()=>{m.removeEventListener("mindar-image-loaded",z),m.removeEventListener("mindar-image-target-found",_),m.removeEventListener("mindar-image-target-lost",V),m.removeEventListener("mindar-image-error",J);const g=m.querySelector("[mindar-image-target]");g&&(g.removeEventListener("targetFound",_),g.removeEventListener("targetLost",V)),M&&clearInterval(M),o.current&&(clearTimeout(o.current),o.current=null)}}catch(m){console.error("‚ùå Erro ao configurar MindAR:",m),h.current=!1,c(!1),o.current&&(clearTimeout(o.current),o.current=null)}})(),()=>{b.current&&(clearInterval(b.current),b.current=null)}},[r,A,C,t]),e.jsxs("div",{className:"ar-game-screen",children:[l&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),r&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),s&&!l&&e.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"15px 25px",borderRadius:"10px",zIndex:1e4,textAlign:"center",fontSize:"16px"},children:j?"‚úÖ Target detectado!":"Aponte a c√¢mera para a imagem alvo"}),t&&u&&e.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.8)",color:"#0f0",padding:"15px",borderRadius:"8px",zIndex:10001,fontSize:"12px",fontFamily:"monospace",maxWidth:"300px",border:"2px solid #0f0"},children:[e.jsx("div",{style:{marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #0f0",paddingBottom:"5px"},children:"üîç DEBUG INFO"}),e.jsxs("div",{style:{lineHeight:"1.6"},children:[e.jsxs("div",{children:["üì∑ C√¢mera: ",n.cameraFacing||"user"]}),e.jsxs("div",{children:["ü™û Mirror: ",n.cameraMirror!==!1?"SIM":"N√ÉO"]}),u.videoWidth&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üìê Resolu√ß√£o: ",u.videoWidth,"x",u.videoHeight]}),e.jsxs("div",{children:["‚úÖ V√≠deo: ",u.videoReady?"PRONTO":"CARREGANDO"]})]}),e.jsxs("div",{children:["üéØ MindAR: ",u.mindarLoaded?"‚úÖ CARREGADO":"‚è≥ CARREGANDO"]}),e.jsxs("div",{children:["üìÅ Arquivo: ",A.split("/").pop()]}),e.jsxs("div",{children:["üéØ Target: ",u.targetFound?"‚úÖ DETECTADO":"‚ùå N√ÉO DETECTADO"]}),u.targetFoundTime&&e.jsxs("div",{children:["‚è∞ Detectado em: ",u.targetFoundTime]}),u.error&&e.jsxs("div",{style:{color:"#f00"},children:["‚ùå Erro: ",u.error]}),e.jsxs("div",{children:["üïê ",u.timestamp]})]})]})]})};const Te=({onNavigate:a})=>{const[i,n]=v.useState(null);v.useEffect(()=>{const d=(u=0)=>{const y=localStorage.getItem("ar-result");console.log(`Tentativa ${u+1}: resultado no localStorage =`,y),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),y==="acerto"||y==="erro"?n(y):u<5?setTimeout(()=>d(u+1),100):(console.error("Resultado n√£o encontrado no localStorage ap√≥s m√∫ltiplas tentativas, voltando para cover"),a("cover","zoom-in","left"))};d(0)},[a]);const t=(()=>{var y,b;const d=((b=(y=import.meta)==null?void 0:y.env)==null?void 0:b.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=d&&d!=="/"?d.endsWith("/")?d:d+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),l=d=>{if(t==="")return d.startsWith("/")?d:`/${d}`;const u=d.startsWith("/")?d.slice(1):d;return`${t}/${u}`},c={bgCapa:l("assets/images/bg-capa.png"),modalAcerto:l("assets/images/modal-acerto.png"),modalErro:l("assets/images/modal-erro.png"),btnRegistrar:l("assets/images/btn-registrar.png"),btnInicio:l("assets/images/btn-inicio.png"),btnVoltar:l("assets/images/btn-voltar.png")},s=()=>{a("selfie","fade","up")},x=()=>{a("cover","zoom-in","left")},j=()=>{a("ar","fade","left")};return i?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${c.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:i==="acerto"?c.modalAcerto:c.modalErro,alt:i==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),i==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:s,style:{backgroundImage:`url(${c.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:x,style:{backgroundImage:`url(${c.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),i==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:j,style:{backgroundImage:`url(${c.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},te={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Le=({onNavigate:a,onSettingsChange:i})=>{const[n,r]=v.useState(te),t=(s,x)=>{const j={...n,[s]:x};r(j),i==null||i(j)},l=()=>{a("ar")},c=()=>{r(te),i==null||i(te)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:l,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:s=>t("quality",s.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:s=>t("enableSound",s.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:s=>t("enableVibration",s.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:s=>t("autoSave",s.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:s=>t("language",s.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:c,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:l,children:"Salvar"})]})]})},Ce=({onNavigate:a,appName:i="Realidade Aumentada",version:n="1.0.0",description:r="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const l=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:l,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:i}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:r})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:l,children:"Voltar ao In√≠cio"})})]})},Ue=({onNavigate:a})=>{const i=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:i,children:"Jogar Novamente"})})]})})};const Pe=()=>{const a=v.useRef(null),i=v.useRef(null),n=v.useRef(null),r=v.useRef(null),[t,l]=v.useState(!1),s=(()=>{var h,L;const b=((L=(h=import.meta)==null?void 0:h.env)==null?void 0:L.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),o=b&&b!=="/"?b.endsWith("/")?b:b+"/":"/";return o==="/"?"":o.endsWith("/")?o.slice(0,-1):o})(),x=b=>{if(s==="")return b.startsWith("/")?b:`/${b}`;const o=b.startsWith("/")?b.slice(1):b;return`${s}/${o}`},j=x("assets/images/selfie-top.png"),d=x("assets/images/selfie-bottom.png"),u=x("assets/images/camera-icon.png");v.useEffect(()=>{async function b(){try{let o=document.getElementById("selfie-video");if(o&&o.srcObject){o.classList.add("selfie-video-visible"),a.current=o;return}const h=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});o||(o=document.createElement("video"),o.setAttribute("id","selfie-video"),o.setAttribute("playsinline",""),o.setAttribute("autoplay",""),o.muted=!0,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100vw",o.style.height="100vh",o.style.objectFit="cover",o.style.zIndex="0",o.classList.add("selfie-video-visible"),document.body.appendChild(o)),o.srcObject=h,i.current=h,a.current=o,await o.play()}catch(o){console.error("Erro ao inicializar c√¢mera:",o)}}return b(),()=>{}},[]),v.useEffect(()=>{(()=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{n.current=o},o.onerror=()=>{console.warn("Erro ao carregar imagem top")},o.src=j;const h=new Image;h.crossOrigin="anonymous",h.onload=()=>{r.current=h},h.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},h.src=d})()},[j,d]);const y=async()=>{if(!(!a.current||t)){l(!0);try{const b=a.current,o=document.createElement("canvas");o.width=window.innerWidth,o.height=window.innerHeight;const h=o.getContext("2d");if(!h){l(!1);return}const L=(b.videoWidth||b.clientWidth)/(b.videoHeight||b.clientHeight),D=o.width/o.height;let T=o.width,U=o.height,A=0,C=0;if(L>D?(U=o.width/L,C=(o.height-U)/2):(T=o.height*L,A=(o.width-T)/2),h.drawImage(b,A,C,T,U),await(()=>new Promise(m=>{if(n.current&&r.current)m();else{const k=setInterval(()=>{n.current&&r.current&&(clearInterval(k),m())},50);setTimeout(()=>{clearInterval(k),m()},2e3)}}))(),n.current){const m=n.current,k=m.naturalWidth/m.naturalHeight,R=o.width/k;h.drawImage(m,0,0,o.width,R)}if(r.current){const m=r.current,k=m.naturalWidth/m.naturalHeight,R=o.width/k;h.drawImage(m,0,o.height-R,o.width,R)}o.toBlob(async m=>{if(m)try{if(navigator.share&&navigator.canShare){const k=new File([m],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[k]}))await navigator.share({files:[k],title:"Minha Selfie",text:"Confira minha selfie!"});else{const R=URL.createObjectURL(m);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:R}),URL.revokeObjectURL(R)}}else{const k=URL.createObjectURL(m),R=document.createElement("a");R.href=k,R.download=`selfie-${Date.now()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(k)}}catch(k){if(k instanceof Error&&k.name!=="AbortError"){console.error("Erro ao compartilhar:",k);const R=URL.createObjectURL(m),z=document.createElement("a");z.href=R,z.download=`selfie-${Date.now()}.png`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(R)}}l(!1)},"image/png")}catch(b){console.error("Erro ao capturar foto:",b),l(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:j,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:d,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:y,disabled:t,style:{backgroundImage:`url(${u})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Fe=({initialScreen:a="loading",appConfig:i,defaultTransition:n="zoom-out",defaultDirection:r="right"})=>{const[t,l]=v.useState(a||"loading"),[c,s]=v.useState(!1),[x,j]=v.useState(n),[d,u]=v.useState(r),[y,b]=v.useState(null);v.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",t)},[]),v.useEffect(()=>{if(!c){const T=setTimeout(()=>{t!=="loading"&&b(null)},1e3);return()=>clearTimeout(T)}},[t,c]);const o=(T,U)=>{const A=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],C=A.indexOf(T),S=A.indexOf(U);return S>C?"right":S<C?"left":"right"},h=(T,U,A)=>{const C=U||x,S=A||o(t,T);b(t),j(C),u(S);const m=t==="loading"?800:300;s(!0),setTimeout(()=>{l(T),s(!1)},m)},L=()=>{switch(t){case"loading":return e.jsx(ne,{onNavigate:h});case"cover":return e.jsx(Re,{onNavigate:h,title:i.title,subtitle:i.subtitle});case"tutorial":return e.jsx(ke,{onNavigate:h});case"rocket":return e.jsx(Ne,{onNavigate:h});case"tutorial2":return e.jsx(Se,{onNavigate:h});case"ar":return e.jsx(Ie,{onNavigate:h});case"resultado":return e.jsx(Te,{onNavigate:h});case"final":return e.jsx(Ue,{onNavigate:h});case"settings":return e.jsx(Le,{onNavigate:h});case"about":return e.jsx(Ce,{onNavigate:h});case"selfie":return e.jsx(Pe,{onNavigate:h});default:return e.jsx(ne,{onNavigate:h})}},D=()=>{const T="screen-manager",U=`transition-${x}`,A=`direction-${d}`,C=c?"transitioning":"",S=y?`from-${y}`:"";return`${T} ${U} ${A} ${C} ${S}`.trim()};return e.jsx("div",{className:D(),children:L()})},$e=()=>{const[a,i]=v.useState(!1),n=()=>{const r=window.innerWidth,t=window.innerHeight,l=r>t,c=navigator.userAgent.toLowerCase(),s=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(c)||"ontouchstart"in window||navigator.maxTouchPoints>0,x=r<=768;s&&l||x&&l?(i(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(i(!1),document.body.style.overflow="",document.body.style.touchAction="")};return v.useEffect(()=>{n();let r,t;const l=()=>{clearTimeout(r),r=setTimeout(()=>{n()},100)},c=()=>{clearTimeout(t),t=setTimeout(()=>{n()},300)},s=()=>{clearTimeout(t),t=setTimeout(()=>{n()},300)},x=u=>{clearTimeout(t),t=setTimeout(()=>{n()},100)};window.addEventListener("resize",l),window.addEventListener("orientationchange",c),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",s);const j=window.matchMedia("(orientation: landscape)");j.addEventListener("change",x);const d=setInterval(()=>{n()},2e3);return()=>{clearTimeout(r),clearTimeout(t),clearInterval(d),window.removeEventListener("resize",l),window.removeEventListener("orientationchange",c),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",s),j.removeEventListener("change",x),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function oe(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Ee,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx($e,{}),e.jsx(Fe,{initialScreen:"loading",appConfig:a})]})})}ce().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),Y.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(oe,{})}))}).catch(a=>{console.error("Erro na inicializa√ß√£o global:",a),Y.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(oe,{})}))});
//# sourceMappingURL=index-9d78b61a.js.map
