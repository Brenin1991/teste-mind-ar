import{r as j,a as de,R as se}from"./vendor-b1791c80.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();var re={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=j,me=Symbol.for("react.element"),ue=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,be=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,he={key:!0,ref:!0,__self:!0,__source:!0};function ie(t,r,n){var o,s={},c=null,i=null;n!==void 0&&(c=""+n),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(i=r.ref);for(o in r)pe.call(r,o)&&!he.hasOwnProperty(o)&&(s[o]=r[o]);if(t&&t.defaultProps)for(o in r=t.defaultProps,r)s[o]===void 0&&(s[o]=r[o]);return{$$typeof:me,type:t,key:c,ref:i,props:s,_owner:be.current}}K.Fragment=ue;K.jsx=ie;K.jsxs=ie;re.exports=K;var e=re.exports,Y={},ae=de;Y.createRoot=ae.createRoot,Y.hydrateRoot=ae.hydrateRoot;let O=null,Z=null,Q=null;async function fe(){var t,r;try{const n=((r=(t=import.meta)==null?void 0:t.env)==null?void 0:r.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),s=`${n&&n!=="/"?n.endsWith("/")?n:n+"/":"/"}assets/data/ra.json`,c=await fetch(s);return c.ok?(await c.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("N√£o foi poss√≠vel carregar ra.json, usando configura√ß√µes padr√£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(n){return console.warn("Erro ao carregar configura√ß√µes do RA, usando padr√£o:",n),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function ce(){return Q||(Q=(async()=>{try{console.log("Iniciando inicializa√ß√£o global...");const t=await fe();console.log("Configura√ß√µes do RA:",t),t.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await xe(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await Re(),console.log("A-Frame Scene inicializado"),ve()):console.log("A-Frame desabilitado nas configura√ß√µes"),t.usarVideo!==!1?(console.log(`Inicializando c√¢mera (${t.cameraFacing||"user"})...`),await je(t),console.log("C√¢mera inicializada")):console.log("V√≠deo desabilitado nas configura√ß√µes"),t.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await ye(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configura√ß√µes"),console.log("Inicializa√ß√£o global conclu√≠da")}catch(t){throw console.error("Erro na inicializa√ß√£o global:",t),t}})(),Q)}let G=!1,_=null,ee=null;function ve(){if(G&&_)return;const t=n=>{if(G)return;G=!0;const o=n;o.style.pointerEvents="auto",o.style.zIndex="2147483647",o.style.position="fixed",o.style.display="block",o.style.visibility="visible",o.style.opacity="1",n.querySelectorAll("*").forEach(i=>{i.style.pointerEvents="auto"}),n.querySelectorAll("button").forEach(i=>{i.style.pointerEvents="auto",i.style.cursor="pointer",i.style.zIndex="2147483647",i.style.position="relative"}),_&&(_.disconnect(),_=null)};let r=null;_=new MutationObserver(()=>{r&&clearTimeout(r),r=setTimeout(()=>{if(G)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');n&&t(n)},200)}),_.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),ee&&clearTimeout(ee),ee=setTimeout(()=>{if(G)return;const n=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]');n&&t(n)},1e3)}function xe(){return new Promise(t=>{if(typeof window<"u"&&window.AFRAME){t();return}const r=()=>{typeof window<"u"&&window.AFRAME?t():setTimeout(r,100)};r()})}async function je(t){var r,n;try{const o=document.getElementById("arjs-video");if(o&&o.srcObject)return O=o,Z=o.srcObject,Z;const s=(t==null?void 0:t.cameraFacing)||"user",c=(t==null?void 0:t.cameraMirror)!==void 0?t.cameraMirror:s==="user";console.log(`üì∑ Configurando c√¢mera: facing=${s}, mirror=${c} (config: ${t==null?void 0:t.cameraMirror})`);const i=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:s}},audio:!1});if(o)O=o,c?(O.style.transform="scaleX(-1)",console.log("ü™û V√≠deo existente ESPELHADO")):(O.style.transform="scaleX(1)",console.log("üì∑ V√≠deo existente N√ÉO ESPELHADO"));else{const a=document.createElement("video");a.id="arjs-video",a.setAttribute("playsinline",""),a.setAttribute("autoplay",""),a.muted=!0,a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100vw",a.style.height="100vh",a.style.objectFit="cover",a.style.zIndex="0",a.style.display="none",a.style.visibility="hidden",a.style.opacity="0",c?(a.style.transform="scaleX(-1)",console.log("ü™û C√¢mera ESPELHADA (mirror=true)")):(a.style.transform="scaleX(1)",console.log("üì∑ C√¢mera N√ÉO ESPELHADA (mirror=false)")),document.body.appendChild(a),O=a}return O.srcObject=i,Z=i,await O.play(),console.log("‚úÖ C√¢mera inicializada:",{facing:s,mirror:c,mirrorConfig:t==null?void 0:t.cameraMirror,width:(r=i.getVideoTracks()[0])==null?void 0:r.getSettings().width,height:(n=i.getVideoTracks()[0])==null?void 0:n.getSettings().height}),i}catch(o){return console.warn("Erro ao inicializar c√¢mera global:",o),null}}async function ye(){if(!window.faceapi)return new Promise((t,r)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",n.onload=()=>{console.log("face-api.js carregado"),t()},n.onerror=()=>r(new Error("Failed to load face-api.js")),document.head.appendChild(n)})}async function Re(){if(document.querySelector("a-scene")){console.log("A-Frame Scene j√° existe");return}const t=document.createElement("a-scene");t.id="ar-scene-main",t.setAttribute("embedded","true"),t.setAttribute("vr-mode-ui","enabled: false"),t.setAttribute("ar-mode-ui","enabled: false"),t.setAttribute("device-orientation-permission-ui","enabled: false"),t.setAttribute("renderer","alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;"),t.setAttribute("webxr","enabled: false"),t.setAttribute("background","transparent: true"),t.setAttribute("stats","false"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="1",t.style.background="transparent",document.body.appendChild(t),await new Promise(r=>{const n=()=>{const o=document.querySelector("a-scene");o&&o.hasLoaded?r():setTimeout(n,100)};n()}),console.log("A-Frame Scene criado e inicializado")}const ne=({onNavigate:t,onLoadingComplete:r})=>{const[n,o]=j.useState(0),[s,c]=j.useState("Inicializando...");return j.useEffect(()=>((async()=>{const a=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],v=(()=>{var x,p;const g=((p=(x=import.meta)==null?void 0:x.env)==null?void 0:p.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return g&&g!=="/"?g.endsWith("/")?g:g+"/":"/"})();try{c("Aguardando inicializa√ß√£o..."),await ce(),c("Carregando recursos...");for(let g=0;g<a.length;g++){const u=a[g],x=`${v}${u.startsWith("/")?u.slice(1):u}`;if(u.endsWith(".json"))try{if(!(await fetch(x)).ok)throw new Error(`Failed to load ${u}`)}catch(l){console.warn(`Failed to load ${u}:`,l)}else await new Promise(l=>{const b=new Image;b.onload=()=>l(b),b.onerror=()=>{console.warn(`Failed to load image: ${x}`),l(null)},b.src=x});const p=Math.round((g+1)/a.length*100);o(p)}c("Finalizando..."),await new Promise(g=>setTimeout(g,300)),o(100),c("Conclu√≠do!"),await new Promise(g=>setTimeout(g,200)),r==null||r(),t("cover","flip","left")}catch(g){console.error("Erro ao carregar recursos:",g),c("Erro ao carregar. Continuando..."),setTimeout(()=>{t("cover","flip","left")},1e3)}})(),()=>{}),[t,r]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${n}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[n,"%"]})]}),e.jsx("p",{className:"loading-status",children:s})]})})};const we=({onNavigate:t,backgroundImage:r})=>{const o=(()=>{var u,x;const v=((x=(u=import.meta)==null?void 0:u.env)==null?void 0:x.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=v&&v!=="/"?v.endsWith("/")?v:v+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),s=v=>{if(o==="")return v.startsWith("/")?v:`/${v}`;const g=v.startsWith("/")?v.slice(1):v;return`${o}/${g}`},c=r||s("assets/images/bg-capa.png"),i=s("assets/images/header-capa.png"),a=s("assets/images/bottom-capa.png"),f=s("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${c}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:i,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>t("tutorial","zoom-out","right"),style:{backgroundImage:`url(${f})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:a,alt:"Bottom",className:"cover-bottom-img"})})]})};const Se=({onNavigate:t})=>{const n=(()=>{var v,g;const a=((g=(v=import.meta)==null?void 0:v.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),f=a&&a!=="/"?a.endsWith("/")?a:a+"/":"/";return f==="/"?"":f.endsWith("/")?f.slice(0,-1):f})(),o=a=>{if(n==="")return a.startsWith("/")?a:`/${a}`;const f=a.startsWith("/")?a.slice(1):a;return`${n}/${f}`},s=o("assets/images/bg-capa.png"),c=o("assets/images/tutorial-panel.png"),i=o("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${s}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>t("ar","fade","right"),style:{backgroundImage:`url("${i}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},ke=({onNavigate:t})=>{const n=(()=>{var v,g;const a=((g=(v=import.meta)==null?void 0:v.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),f=a&&a!=="/"?a.endsWith("/")?a:a+"/":"/";return f==="/"?"":f.endsWith("/")?f.slice(0,-1):f})(),o=a=>{if(n==="")return a.startsWith("/")?a:`/${a}`;const f=a.startsWith("/")?a.slice(1):a;return`${n}/${f}`},s=o("assets/images/bg-capa.png"),c=o("assets/images/tutorial-panel-2.png"),i=o("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${s}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>t("ar","fade","right"),style:{backgroundImage:`url("${i}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const Ae=({onNavigate:t,backgroundImage:r})=>{const[n,o]=j.useState(!0),[s,c]=j.useState(1),[i,a]=j.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),f={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},g=(()=>{var y,S;const h=((S=(y=import.meta)==null?void 0:y.env)==null?void 0:S.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),d=h&&h!=="/"?h.endsWith("/")?h:h+"/":"/";return d==="/"?"":d.endsWith("/")?d.slice(0,-1):d})(),u=h=>{if(g==="")return h.startsWith("/")?h:`/${h}`;const d=h.startsWith("/")?h.slice(1):h;return`${g}/${d}`},x=r||u("assets/images/bg-capa.png"),p=u("assets/images/foguete-top.png"),l=u("assets/images/foguete-bottom.png"),b=u("assets/images/foguete-montagem.png"),T=u("assets/images/btn-jogar-foguete.png"),P=u("assets/images/btn-jogar-foguete-disable.png"),I=u("assets/images/btn-next.png"),R=u("assets/images/btn-back.png"),m=(h,d)=>{if(d===0)return null;const y=d.toString().padStart(2,"0");return u(`assets/images/pecas/${h}/${y}.png`)},N=m("ponta",i.ponta),C=m("corpo",i.corpo),w=m("janela",i.janela),A=m("asa",i.asa),k=m("jato",i.jato),U=h=>u(`assets/images/abas/0${h}${s===h?"":"-disable"}.png`),$=h=>{c(h);const d=f[h];i[d]===0&&d!=="ponta"&&a(S=>({...S,[d]:1}))},F=()=>{const h=f[s],d=i[h];d===0?a(y=>({...y,[h]:1})):d<3&&a(y=>({...y,[h]:d+1}))},B=()=>{const h=f[s],d=i[h];d>1&&h!=="ponta"&&a(y=>({...y,[h]:d-1}))},z=f[s],M=i[z],J=M<3,X=M>1&&z!=="ponta",W=M>0?m(z,M):null,q=i.ponta>0&&i.corpo>0&&i.janela>0&&i.asa>0&&i.jato>0;return j.useEffect(()=>{(async()=>{const y=(()=>{var H,V;const E=((V=(H=import.meta)==null?void 0:H.env)==null?void 0:V.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),L=E&&E!=="/"?E.endsWith("/")?E:E+"/":"/";return L==="/"?"":L.endsWith("/")?L.slice(0,-1):L})(),S=E=>{if(y==="")return E.startsWith("/")?E:`/${E}`;const L=E.startsWith("/")?E.slice(1):E;return`${y}/${L}`},D=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const E=D.map(L=>new Promise(H=>{const V=new Image;V.onload=()=>H(),V.onerror=()=>{console.warn(`Failed to load image: ${L}`),H()},V.src=S(L)}));await Promise.all(E),o(!1)}catch(E){console.error("Erro ao carregar imagens:",E),o(!1)}})()},[]),n?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${x}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:p,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(h=>e.jsx("button",{className:`rocket-tab ${s===h?"active":""}`,onClick:()=>$(h),style:{backgroundImage:`url("${U(h)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},h))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:b,alt:"Foguete Montagem",className:"rocket-montagem-img"}),N&&e.jsx("img",{src:N,alt:"Ponta",className:"rocket-ponta"}),C&&e.jsx("img",{src:C,alt:"Corpo",className:"rocket-corpo"}),w&&e.jsx("img",{src:w,alt:"Janela",className:"rocket-janela"}),A&&e.jsx("img",{src:A,alt:"Asa",className:"rocket-asa"}),k&&e.jsx("img",{src:k,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:l,alt:"Foguete Bottom",className:"rocket-bottom-img"}),W&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:W,alt:`Preview ${z}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:B,disabled:!X,style:{backgroundImage:`url("${R}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(i)),console.log("‚úÖ Pe√ßas do foguete salvas:",i)}catch(h){console.error("‚ùå Erro ao salvar pe√ßas do foguete:",h)}t("tutorial2","fade","right")},disabled:!q,style:{backgroundImage:`url("${q?T:P}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:F,disabled:!J,style:{backgroundImage:`url("${I}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},le=j.createContext(void 0),Ee=()=>{const t=j.useContext(le);if(t===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return t},Ne=({children:t})=>{const[r,n]=j.useState(null),[o,s]=j.useState(!0),[c,i]=j.useState(null),a=async()=>{var g,u;try{s(!0),i(null),console.log("üîÑ Carregando dados do RA...");const x=((u=(g=import.meta)==null?void 0:g.env)==null?void 0:u.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),l=`${x&&x!=="/"?x.endsWith("/")?x:x+"/":"/"}assets/data/ra.json`,b=await fetch(l);if(!b.ok)throw new Error(`Erro ao carregar dados: ${b.status}`);const T=await b.json();console.log("‚úÖ Dados do RA carregados:",T),n(T)}catch(x){const p=x instanceof Error?x.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",p),i(p)}finally{s(!1)}},f=()=>{a()};j.useEffect(()=>{a()},[]);const v={raData:r,loading:o,error:c,refreshData:f};return e.jsx(le.Provider,{value:v,children:t})};const Ie=({onNavigate:t})=>{const{raData:r}=Ee(),n=(r==null?void 0:r.configuracoes)||{},o=n.usarAFrame!==!1,s=n.debugVisual!==!1,[c,i]=j.useState(!0),[a,f]=j.useState(!1),[v,g]=j.useState(!1),[u,x]=j.useState(null),p=j.useRef(null),b=(()=>{var N,C;const R=((C=(N=import.meta)==null?void 0:N.env)==null?void 0:C.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),m=R&&R!=="/"?R.endsWith("/")?R:R+"/":"/";return m==="/"?"":m.endsWith("/")?m.slice(0,-1):m})(),T=R=>{if(b==="")return R.startsWith("/")?R:`/${R}`;const m=R.startsWith("/")?R.slice(1):R;return`${b}/${m}`},P=T("assets/mindar/targets.mind"),I=T("assets/images/target-image.png");return j.useEffect(()=>{if(!o){i(!1);return}return(async()=>{try{await new Promise(d=>{let y=0;const S=100,D=()=>{y++;const E=window.AFRAME,L=E&&E.components&&E.components["mindar-image"];E&&L?(console.log("‚úÖ A-Frame e MindAR prontos"),d()):y>=S?(console.warn("‚ö†Ô∏è MindAR n√£o detectado ap√≥s timeout, continuando..."),d()):setTimeout(D,100)};D()});const m=document.querySelector("a-scene#ar-scene-main");if(!m){console.error("‚ùå A-Frame Scene n√£o encontrado"),i(!1);return}console.log("üîß Configurando MindAR no a-scene..."),console.log("üìÅ Caminho do arquivo .mind:",P);try{const d=await fetch(P,{method:"HEAD"});d.ok?console.log("‚úÖ Arquivo .mind encontrado e acess√≠vel"):console.warn("‚ö†Ô∏è Arquivo .mind n√£o encontrado ou n√£o acess√≠vel:",d.status)}catch(d){console.warn("‚ö†Ô∏è Erro ao verificar arquivo .mind:",d)}m.setAttribute("mindar-image",`imageTargetSrc: ${P};`),m.setAttribute("color-space","sRGB"),m.setAttribute("renderer","colorManagement: true, physicallyCorrectLights"),m.setAttribute("vr-mode-ui","enabled: false"),m.setAttribute("device-orientation-permission-ui","enabled: false"),console.log("‚úÖ Atributos MindAR configurados");const N=m.systems&&m.systems["mindar-image-system"];N?console.log("‚úÖ Sistema MindAR encontrado:",N):console.warn("‚ö†Ô∏è Sistema MindAR n√£o encontrado no a-scene");const C=()=>{document.querySelectorAll('.a-enter-vr-button, .a-enter-ar-button, [class*="vr-button"], [class*="enter-vr"], [class*="enter-ar"], [class*="cardboard"]').forEach(S=>{S&&(S.style.display="none",S.style.visibility="hidden",S.style.opacity="0",S.style.pointerEvents="none")}),document.querySelectorAll('.a-orientation-modal, [class*="orientation"], [class*="cardboard"]').forEach(S=>{S&&(S.style.display="none",S.style.visibility="hidden",S.style.opacity="0",S.style.pointerEvents="none")})};C(),p.current=setInterval(C,500);const w=m.querySelector("a-assets");w&&w.remove();const A=document.createElement("a-assets"),k=document.createElement("img");k.id="card",k.src=I,k.crossOrigin="anonymous",A.appendChild(k),m.appendChild(A);let U=m.querySelector("a-camera");U&&U.remove(),U=document.createElement("a-camera"),U.setAttribute("position","0 0 0"),U.setAttribute("look-controls","enabled: false"),m.appendChild(U);let $=m.querySelector("[mindar-image-target]");$&&$.remove(),$=document.createElement("a-entity"),$.setAttribute("mindar-image-target","targetIndex: 0"),m.appendChild($);const F=document.createElement("a-plane");F.setAttribute("src","#card"),F.setAttribute("position","0 0 0"),F.setAttribute("height","0.552"),F.setAttribute("width","1"),F.setAttribute("rotation","0 0 0"),$.appendChild(F);const B=document.createElement("a-box");B.setAttribute("position","0 0.1 0"),B.setAttribute("rotation","0 45 0"),B.setAttribute("color","#4CC3D9"),B.setAttribute("scale","0.2 0.2 0.2"),B.setAttribute("animation","property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true"),$.appendChild(B);const z=d=>{console.log("‚úÖ MindAR image target carregado",d),i(!1),f(!0),s&&x({mindarLoaded:!0,targetIndex:0,imageTargetSrc:P,loadedAt:new Date().toLocaleTimeString()})},M=d=>{console.log("‚úÖ Target encontrado!",d),g(!0),s&&x(y=>({...y,targetFound:!0,targetFoundTime:new Date().toLocaleTimeString()}))},J=d=>{console.log("‚ö†Ô∏è Target perdido",d),g(!1),s&&x(y=>({...y,targetFound:!1}))},X=d=>{console.error("‚ùå Erro no MindAR:",d),s&&x(y=>({...y,error:d.detail||"Erro desconhecido"}))};let W=null;s&&(W=setInterval(()=>{const d=document.getElementById("arjs-video"),y=document.querySelector("a-scene#ar-scene-main");x(S=>({...S,videoReady:d&&d.readyState>=2,videoWidth:d==null?void 0:d.videoWidth,videoHeight:d==null?void 0:d.videoHeight,sceneReady:y&&y.hasLoaded,timestamp:new Date().toLocaleTimeString()}))},1e3)),m.addEventListener("mindar-image-loaded",z),m.addEventListener("mindar-image-target-found",M),m.addEventListener("mindar-image-target-lost",J),m.addEventListener("mindar-image-error",X);const q=()=>{console.log("üé¨ A-Scene completamente carregado"),setTimeout(()=>{const d=m.systems&&m.systems["mindar-image-system"];d&&d.anchorEntities&&d.anchorEntities.length>0&&(console.log("‚úÖ MindAR detectado ap√≥s scene carregado"),z({detail:"scene-loaded"}))},500)};m.hasLoaded?q():m.addEventListener("loaded",q);const h=document.getElementById("arjs-video");return h&&(h.style.display="block",h.style.visibility="visible",h.style.opacity="1",h.classList.add("ar-video-visible"),console.log("üìπ V√≠deo tornado vis√≠vel para MindAR")),setTimeout(()=>{var y,S;const d=m.systems&&m.systems["mindar-image-system"];if(d){if(console.log("üîç Verificando estado do MindAR:",{hasArSession:!!d.arSession,isRunning:(y=d.arSession)==null?void 0:y.isRunning,anchorEntities:(S=d.anchorEntities)==null?void 0:S.length}),d.arSession&&!d.arSession.isRunning){console.log("üöÄ Tentando iniciar MindAR manualmente...");try{d.start(),console.log("‚úÖ MindAR iniciado manualmente")}catch(D){console.warn("‚ö†Ô∏è Erro ao iniciar MindAR:",D)}}(d.arSession&&d.arSession.isRunning||d.anchorEntities&&d.anchorEntities.length>0)&&(console.log("‚úÖ MindAR j√° est√° rodando ou configurado"),z({detail:"already-loaded"}))}},1500),setTimeout(()=>{c&&(console.warn("‚ö†Ô∏è MindAR n√£o inicializou no tempo esperado"),i(!1))},1e4),()=>{m.removeEventListener("mindar-image-loaded",z),m.removeEventListener("mindar-image-target-found",M),m.removeEventListener("mindar-image-target-lost",J),m.removeEventListener("mindar-image-error",X),W&&clearInterval(W)}}catch(m){console.error("‚ùå Erro ao configurar MindAR:",m),i(!1)}})(),()=>{p.current&&(clearInterval(p.current),p.current=null)}},[o,P,I,c]),e.jsxs("div",{className:"ar-game-screen",children:[c&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),o&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1}}),a&&!c&&e.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"15px 25px",borderRadius:"10px",zIndex:1e4,textAlign:"center",fontSize:"16px"},children:v?"‚úÖ Target detectado!":"Aponte a c√¢mera para a imagem alvo"}),s&&u&&e.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.8)",color:"#0f0",padding:"15px",borderRadius:"8px",zIndex:10001,fontSize:"12px",fontFamily:"monospace",maxWidth:"300px",border:"2px solid #0f0"},children:[e.jsx("div",{style:{marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #0f0",paddingBottom:"5px"},children:"üîç DEBUG INFO"}),e.jsxs("div",{style:{lineHeight:"1.6"},children:[e.jsxs("div",{children:["üì∑ C√¢mera: ",n.cameraFacing||"user"]}),e.jsxs("div",{children:["ü™û Mirror: ",n.cameraMirror!==!1?"SIM":"N√ÉO"]}),u.videoWidth&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üìê Resolu√ß√£o: ",u.videoWidth,"x",u.videoHeight]}),e.jsxs("div",{children:["‚úÖ V√≠deo: ",u.videoReady?"PRONTO":"CARREGANDO"]})]}),e.jsxs("div",{children:["üéØ MindAR: ",u.mindarLoaded?"‚úÖ CARREGADO":"‚è≥ CARREGANDO"]}),e.jsxs("div",{children:["üìÅ Arquivo: ",P.split("/").pop()]}),e.jsxs("div",{children:["üéØ Target: ",u.targetFound?"‚úÖ DETECTADO":"‚ùå N√ÉO DETECTADO"]}),u.targetFoundTime&&e.jsxs("div",{children:["‚è∞ Detectado em: ",u.targetFoundTime]}),u.error&&e.jsxs("div",{style:{color:"#f00"},children:["‚ùå Erro: ",u.error]}),e.jsxs("div",{children:["üïê ",u.timestamp]})]})]})]})};const Te=({onNavigate:t})=>{const[r,n]=j.useState(null);j.useEffect(()=>{const g=(u=0)=>{const x=localStorage.getItem("ar-result");console.log(`Tentativa ${u+1}: resultado no localStorage =`,x),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),x==="acerto"||x==="erro"?n(x):u<5?setTimeout(()=>g(u+1),100):(console.error("Resultado n√£o encontrado no localStorage ap√≥s m√∫ltiplas tentativas, voltando para cover"),t("cover","zoom-in","left"))};g(0)},[t]);const s=(()=>{var x,p;const g=((p=(x=import.meta)==null?void 0:x.env)==null?void 0:p.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),c=g=>{if(s==="")return g.startsWith("/")?g:`/${g}`;const u=g.startsWith("/")?g.slice(1):g;return`${s}/${u}`},i={bgCapa:c("assets/images/bg-capa.png"),modalAcerto:c("assets/images/modal-acerto.png"),modalErro:c("assets/images/modal-erro.png"),btnRegistrar:c("assets/images/btn-registrar.png"),btnInicio:c("assets/images/btn-inicio.png"),btnVoltar:c("assets/images/btn-voltar.png")},a=()=>{t("selfie","fade","up")},f=()=>{t("cover","zoom-in","left")},v=()=>{t("ar","fade","left")};return r?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${i.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:r==="acerto"?i.modalAcerto:i.modalErro,alt:r==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),r==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:a,style:{backgroundImage:`url(${i.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:f,style:{backgroundImage:`url(${i.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),r==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:v,style:{backgroundImage:`url(${i.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},te={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Ce=({onNavigate:t,onSettingsChange:r})=>{const[n,o]=j.useState(te),s=(a,f)=>{const v={...n,[a]:f};o(v),r==null||r(v)},c=()=>{t("ar")},i=()=>{o(te),r==null||r(te)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:n.quality,onChange:a=>s("quality",a.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:a=>s("enableSound",a.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.enableVibration,onChange:a=>s("enableVibration",a.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:a=>s("autoSave",a.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:n.language,onChange:a=>s("language",a.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:i,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:c,children:"Salvar"})]})]})},Ue=({onNavigate:t,appName:r="Realidade Aumentada",version:n="1.0.0",description:o="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:s="Desenvolvedor AR"})=>{const c=()=>{t("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:r}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",n]}),e.jsx("p",{className:"app-description",children:o})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:s})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:c,children:"Voltar ao In√≠cio"})})]})},Pe=({onNavigate:t})=>{const r=()=>{t("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:r,children:"Jogar Novamente"})})]})})};const Le=()=>{const t=j.useRef(null),r=j.useRef(null),n=j.useRef(null),o=j.useRef(null),[s,c]=j.useState(!1),a=(()=>{var b,T;const p=((T=(b=import.meta)==null?void 0:b.env)==null?void 0:T.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),l=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return l==="/"?"":l.endsWith("/")?l.slice(0,-1):l})(),f=p=>{if(a==="")return p.startsWith("/")?p:`/${p}`;const l=p.startsWith("/")?p.slice(1):p;return`${a}/${l}`},v=f("assets/images/selfie-top.png"),g=f("assets/images/selfie-bottom.png"),u=f("assets/images/camera-icon.png");j.useEffect(()=>{async function p(){try{let l=document.getElementById("selfie-video");if(l&&l.srcObject){l.classList.add("selfie-video-visible"),t.current=l;return}const b=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});l||(l=document.createElement("video"),l.setAttribute("id","selfie-video"),l.setAttribute("playsinline",""),l.setAttribute("autoplay",""),l.muted=!0,l.style.position="fixed",l.style.top="0",l.style.left="0",l.style.width="100vw",l.style.height="100vh",l.style.objectFit="cover",l.style.zIndex="0",l.classList.add("selfie-video-visible"),document.body.appendChild(l)),l.srcObject=b,r.current=b,t.current=l,await l.play()}catch(l){console.error("Erro ao inicializar c√¢mera:",l)}}return p(),()=>{}},[]),j.useEffect(()=>{(()=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>{n.current=l},l.onerror=()=>{console.warn("Erro ao carregar imagem top")},l.src=v;const b=new Image;b.crossOrigin="anonymous",b.onload=()=>{o.current=b},b.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},b.src=g})()},[v,g]);const x=async()=>{if(!(!t.current||s)){c(!0);try{const p=t.current,l=document.createElement("canvas");l.width=window.innerWidth,l.height=window.innerHeight;const b=l.getContext("2d");if(!b){c(!1);return}const T=(p.videoWidth||p.clientWidth)/(p.videoHeight||p.clientHeight),P=l.width/l.height;let I=l.width,R=l.height,m=0,N=0;if(T>P?(R=l.width/T,N=(l.height-R)/2):(I=l.height*T,m=(l.width-I)/2),b.drawImage(p,m,N,I,R),await(()=>new Promise(w=>{if(n.current&&o.current)w();else{const A=setInterval(()=>{n.current&&o.current&&(clearInterval(A),w())},50);setTimeout(()=>{clearInterval(A),w()},2e3)}}))(),n.current){const w=n.current,A=w.naturalWidth/w.naturalHeight,k=l.width/A;b.drawImage(w,0,0,l.width,k)}if(o.current){const w=o.current,A=w.naturalWidth/w.naturalHeight,k=l.width/A;b.drawImage(w,0,l.height-k,l.width,k)}l.toBlob(async w=>{if(w)try{if(navigator.share&&navigator.canShare){const A=new File([w],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[A]}))await navigator.share({files:[A],title:"Minha Selfie",text:"Confira minha selfie!"});else{const k=URL.createObjectURL(w);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:k}),URL.revokeObjectURL(k)}}else{const A=URL.createObjectURL(w),k=document.createElement("a");k.href=A,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(A)}}catch(A){if(A instanceof Error&&A.name!=="AbortError"){console.error("Erro ao compartilhar:",A);const k=URL.createObjectURL(w),U=document.createElement("a");U.href=k,U.download=`selfie-${Date.now()}.png`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(k)}}c(!1)},"image/png")}catch(p){console.error("Erro ao capturar foto:",p),c(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:v,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:g,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:x,disabled:s,style:{backgroundImage:`url(${u})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const $e=({initialScreen:t="loading",appConfig:r,defaultTransition:n="zoom-out",defaultDirection:o="right"})=>{const[s,c]=j.useState(t||"loading"),[i,a]=j.useState(!1),[f,v]=j.useState(n),[g,u]=j.useState(o),[x,p]=j.useState(null);j.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",s)},[]),j.useEffect(()=>{if(!i){const I=setTimeout(()=>{s!=="loading"&&p(null)},1e3);return()=>clearTimeout(I)}},[s,i]);const l=(I,R)=>{const m=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],N=m.indexOf(I),C=m.indexOf(R);return C>N?"right":C<N?"left":"right"},b=(I,R,m)=>{const N=R||f,C=m||l(s,I);p(s),v(N),u(C);const w=s==="loading"?800:300;a(!0),setTimeout(()=>{c(I),a(!1)},w)},T=()=>{switch(s){case"loading":return e.jsx(ne,{onNavigate:b});case"cover":return e.jsx(we,{onNavigate:b,title:r.title,subtitle:r.subtitle});case"tutorial":return e.jsx(Se,{onNavigate:b});case"rocket":return e.jsx(Ae,{onNavigate:b});case"tutorial2":return e.jsx(ke,{onNavigate:b});case"ar":return e.jsx(Ie,{onNavigate:b});case"resultado":return e.jsx(Te,{onNavigate:b});case"final":return e.jsx(Pe,{onNavigate:b});case"settings":return e.jsx(Ce,{onNavigate:b});case"about":return e.jsx(Ue,{onNavigate:b});case"selfie":return e.jsx(Le,{onNavigate:b});default:return e.jsx(ne,{onNavigate:b})}},P=()=>{const I="screen-manager",R=`transition-${f}`,m=`direction-${g}`,N=i?"transitioning":"",C=x?`from-${x}`:"";return`${I} ${R} ${m} ${N} ${C}`.trim()};return e.jsx("div",{className:P(),children:T()})},ze=()=>{const[t,r]=j.useState(!1),n=()=>{const o=window.innerWidth,s=window.innerHeight,c=o>s,i=navigator.userAgent.toLowerCase(),a=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(i)||"ontouchstart"in window||navigator.maxTouchPoints>0,f=o<=768;a&&c||f&&c?(r(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(r(!1),document.body.style.overflow="",document.body.style.touchAction="")};return j.useEffect(()=>{n();let o,s;const c=()=>{clearTimeout(o),o=setTimeout(()=>{n()},100)},i=()=>{clearTimeout(s),s=setTimeout(()=>{n()},300)},a=()=>{clearTimeout(s),s=setTimeout(()=>{n()},300)},f=u=>{clearTimeout(s),s=setTimeout(()=>{n()},100)};window.addEventListener("resize",c),window.addEventListener("orientationchange",i),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",a);const v=window.matchMedia("(orientation: landscape)");v.addEventListener("change",f);const g=setInterval(()=>{n()},2e3);return()=>{clearTimeout(o),clearTimeout(s),clearInterval(g),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",i),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",a),v.removeEventListener("change",f),document.body.style.overflow="",document.body.style.touchAction=""}},[]),t?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function oe(){const t={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Ne,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(ze,{}),e.jsx($e,{initialScreen:"loading",appConfig:t})]})})}ce().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),Y.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(oe,{})}))}).catch(t=>{console.error("Erro na inicializa√ß√£o global:",t),Y.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(oe,{})}))});
//# sourceMappingURL=index-de0ce913.js.map
