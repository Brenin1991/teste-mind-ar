import{r as b,a as ge,R as le}from"./vendor-b1791c80.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(t){if(t.ep)return;t.ep=!0;const c=a(t);fetch(t.href,c)}})();var pe={exports:{}},se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe=b,ye=Symbol.for("react.element"),je=Symbol.for("react.fragment"),we=Object.prototype.hasOwnProperty,Se=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Re={key:!0,ref:!0,__self:!0,__source:!0};function be(s,r,a){var n,t={},c=null,l=null;a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(l=r.ref);for(n in r)we.call(r,n)&&!Re.hasOwnProperty(n)&&(t[n]=r[n]);if(s&&s.defaultProps)for(n in r=s.defaultProps,r)t[n]===void 0&&(t[n]=r[n]);return{$$typeof:ye,type:s,key:c,ref:l,props:t,_owner:Se.current}}se.Fragment=je;se.jsx=be;se.jsxs=be;pe.exports=se;var e=pe.exports,te={},de=ge;te.createRoot=de.createRoot,te.hydrateRoot=de.hydrateRoot;let J=null,ae=null,ee=null;async function ke(){var s,r;try{const a=((r=(s=import.meta)==null?void 0:s.env)==null?void 0:r.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),t=`${a&&a!=="/"?a.endsWith("/")?a:a+"/":"/"}assets/data/ra.json`,c=await fetch(t);return c.ok?(await c.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("N√£o foi poss√≠vel carregar ra.json, usando configura√ß√µes padr√£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(a){return console.warn("Erro ao carregar configura√ß√µes do RA, usando padr√£o:",a),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function he(){return ee||(ee=(async()=>{try{console.log("Iniciando inicializa√ß√£o global...");const s=await ke();console.log("Configura√ß√µes do RA:",s),s.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await Ee(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await Le(),console.log("A-Frame Scene inicializado"),Ae()):console.log("A-Frame desabilitado nas configura√ß√µes"),s.usarVideo!==!1?(console.log(`Inicializando c√¢mera (${s.cameraFacing||"user"})...`),await Ne(s),console.log("C√¢mera inicializada")):console.log("V√≠deo desabilitado nas configura√ß√µes"),s.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await Ie(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configura√ß√µes"),console.log("Inicializa√ß√£o global conclu√≠da")}catch(s){throw console.error("Erro na inicializa√ß√£o global:",s),s}})(),ee)}let Z=!1,Y=null,ne=null;function Ae(){if(Z&&Y)return;const s=a=>{if(Z)return;Z=!0;const n=a;n.style.pointerEvents="auto",n.style.zIndex="2147483647",n.style.position="fixed",n.style.display="block",n.style.visibility="visible",n.style.opacity="1",a.querySelectorAll("*").forEach(l=>{l.style.pointerEvents="auto"}),a.querySelectorAll("button").forEach(l=>{l.style.pointerEvents="auto",l.style.cursor="pointer",l.style.zIndex="2147483647",l.style.position="relative"}),Y&&(Y.disconnect(),Y=null)};let r=null;Y=new MutationObserver(()=>{r&&clearTimeout(r),r=setTimeout(()=>{if(Z)return;const a=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');a&&s(a)},200)}),Y.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),ne&&clearTimeout(ne),ne=setTimeout(()=>{if(Z)return;const a=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]');a&&s(a)},1e3)}function Ee(){return new Promise(s=>{if(typeof window<"u"&&window.AFRAME){s();return}const r=()=>{typeof window<"u"&&window.AFRAME?s():setTimeout(r,100)};r()})}async function Ne(s){var r,a;try{const n=document.getElementById("arjs-video");if(n&&n.srcObject)return J=n,ae=n.srcObject,ae;const t=(s==null?void 0:s.cameraFacing)||"user",c=(s==null?void 0:s.cameraMirror)!==void 0?s.cameraMirror:t==="user";console.log(`üì∑ Configurando c√¢mera: facing=${t}, mirror=${c} (config: ${s==null?void 0:s.cameraMirror})`);const l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=await navigator.mediaDevices.getUserMedia({video:{width:l?{ideal:640,max:1280}:{ideal:1280},height:l?{ideal:480,max:720}:{ideal:720},facingMode:{ideal:t},...l&&{frameRate:{ideal:30,max:30}}},audio:!1});if(n)J=n,c?(J.style.transform="scaleX(-1)",console.log("ü™û V√≠deo existente ESPELHADO")):(J.style.transform="scaleX(1)",console.log("üì∑ V√≠deo existente N√ÉO ESPELHADO"));else{const u=document.createElement("video");u.id="arjs-video",u.setAttribute("playsinline",""),u.setAttribute("webkit-playsinline",""),u.setAttribute("autoplay",""),u.setAttribute("muted","true"),u.muted=!0,u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100vw",u.style.height="100vh",u.style.objectFit="cover",u.style.zIndex="0",u.style.display="none",u.style.visibility="hidden",u.style.opacity="0",c?(u.style.transform="scaleX(-1)",console.log("ü™û C√¢mera ESPELHADA (mirror=true)")):(u.style.transform="scaleX(1)",console.log("üì∑ C√¢mera N√ÉO ESPELHADA (mirror=false)")),document.body.appendChild(u),J=u}return J.srcObject=o,ae=o,await J.play(),console.log("‚úÖ C√¢mera inicializada:",{facing:t,mirror:c,mirrorConfig:s==null?void 0:s.cameraMirror,width:(r=o.getVideoTracks()[0])==null?void 0:r.getSettings().width,height:(a=o.getVideoTracks()[0])==null?void 0:a.getSettings().height}),o}catch(n){return console.warn("Erro ao inicializar c√¢mera global:",n),null}}async function Ie(){if(!window.faceapi)return new Promise((s,r)=>{const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",a.onload=()=>{console.log("face-api.js carregado"),s()},a.onerror=()=>r(new Error("Failed to load face-api.js")),document.head.appendChild(a)})}async function Le(){if(document.querySelector("a-scene")){console.log("A-Frame Scene j√° existe");return}console.log("A-Frame Scene ser√° criado pelo ARScreen com mindar-image desde o in√≠cio")}const me=({onNavigate:s,onLoadingComplete:r})=>{const[a,n]=b.useState(0),[t,c]=b.useState("Inicializando...");return b.useEffect(()=>((async()=>{const o=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],y=(()=>{var j,f;const g=((f=(j=import.meta)==null?void 0:j.env)==null?void 0:f.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return g&&g!=="/"?g.endsWith("/")?g:g+"/":"/"})();try{c("Aguardando inicializa√ß√£o..."),await he(),c("Carregando recursos...");for(let g=0;g<o.length;g++){const h=o[g],j=`${y}${h.startsWith("/")?h.slice(1):h}`;if(h.endsWith(".json"))try{if(!(await fetch(j)).ok)throw new Error(`Failed to load ${h}`)}catch(i){console.warn(`Failed to load ${h}:`,i)}else await new Promise(i=>{const x=new Image;x.onload=()=>i(x),x.onerror=()=>{console.warn(`Failed to load image: ${j}`),i(null)},x.src=j});const f=Math.round((g+1)/o.length*100);n(f)}c("Finalizando..."),await new Promise(g=>setTimeout(g,300)),n(100),c("Conclu√≠do!"),await new Promise(g=>setTimeout(g,200)),r==null||r(),s("cover","flip","left")}catch(g){console.error("Erro ao carregar recursos:",g),c("Erro ao carregar. Continuando..."),setTimeout(()=>{s("cover","flip","left")},1e3)}})(),()=>{}),[s,r]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${a}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[a,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})};const Te=({onNavigate:s,backgroundImage:r})=>{const n=(()=>{var h,j;const y=((j=(h=import.meta)==null?void 0:h.env)==null?void 0:j.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),g=y&&y!=="/"?y.endsWith("/")?y:y+"/":"/";return g==="/"?"":g.endsWith("/")?g.slice(0,-1):g})(),t=y=>{if(n==="")return y.startsWith("/")?y:`/${y}`;const g=y.startsWith("/")?y.slice(1):y;return`${n}/${g}`},c=r||t("assets/images/bg-capa.png"),l=t("assets/images/header-capa.png"),o=t("assets/images/bottom-capa.png"),u=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${c}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:l,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>s("tutorial","zoom-out","right"),style:{backgroundImage:`url(${u})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:o,alt:"Bottom",className:"cover-bottom-img"})})]})};const Pe=({onNavigate:s})=>{const a=(()=>{var y,g;const o=((g=(y=import.meta)==null?void 0:y.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),n=o=>{if(a==="")return o.startsWith("/")?o:`/${o}`;const u=o.startsWith("/")?o.slice(1):o;return`${a}/${u}`},t=n("assets/images/bg-capa.png"),c=n("assets/images/tutorial-panel.png"),l=n("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>s("ar","fade","right"),style:{backgroundImage:`url("${l}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},Ce=({onNavigate:s})=>{const a=(()=>{var y,g;const o=((g=(y=import.meta)==null?void 0:y.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),u=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return u==="/"?"":u.endsWith("/")?u.slice(0,-1):u})(),n=o=>{if(a==="")return o.startsWith("/")?o:`/${o}`;const u=o.startsWith("/")?o.slice(1):o;return`${a}/${u}`},t=n("assets/images/bg-capa.png"),c=n("assets/images/tutorial-panel-2.png"),l=n("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:c,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>s("ar","fade","right"),style:{backgroundImage:`url("${l}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const Ue=({onNavigate:s,backgroundImage:r})=>{const[a,n]=b.useState(!0),[t,c]=b.useState(1),[l,o]=b.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),u={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},g=(()=>{var B,q;const S=((q=(B=import.meta)==null?void 0:B.env)==null?void 0:q.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),A=S&&S!=="/"?S.endsWith("/")?S:S+"/":"/";return A==="/"?"":A.endsWith("/")?A.slice(0,-1):A})(),h=S=>{if(g==="")return S.startsWith("/")?S:`/${S}`;const A=S.startsWith("/")?S.slice(1):S;return`${g}/${A}`},j=r||h("assets/images/bg-capa.png"),f=h("assets/images/foguete-top.png"),i=h("assets/images/foguete-bottom.png"),x=h("assets/images/foguete-montagem.png"),z=h("assets/images/btn-jogar-foguete.png"),D=h("assets/images/btn-jogar-foguete-disable.png"),E=h("assets/images/btn-next.png"),$=h("assets/images/btn-back.png"),T=(S,A)=>{if(A===0)return null;const B=A.toString().padStart(2,"0");return h(`assets/images/pecas/${S}/${B}.png`)},U=T("ponta",l.ponta),W=T("corpo",l.corpo),N=T("janela",l.janela),L=T("asa",l.asa),I=T("jato",l.jato),V=S=>h(`assets/images/abas/0${S}${t===S?"":"-disable"}.png`),w=S=>{c(S);const A=u[S];l[A]===0&&A!=="ponta"&&o(q=>({...q,[A]:1}))},k=()=>{const S=u[t],A=l[S];A===0?o(B=>({...B,[S]:1})):A<3&&o(B=>({...B,[S]:A+1}))},R=()=>{const S=u[t],A=l[S];A>1&&S!=="ponta"&&o(B=>({...B,[S]:A-1}))},M=u[t],P=l[M],v=P<3,G=P>1&&M!=="ponta",H=P>0?T(M,P):null,O=l.ponta>0&&l.corpo>0&&l.janela>0&&l.asa>0&&l.jato>0;return b.useEffect(()=>{(async()=>{const B=(()=>{var C,F;const p=((F=(C=import.meta)==null?void 0:C.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),m=p&&p!=="/"?p.endsWith("/")?p:p+"/":"/";return m==="/"?"":m.endsWith("/")?m.slice(0,-1):m})(),q=p=>{if(B==="")return p.startsWith("/")?p:`/${p}`;const m=p.startsWith("/")?p.slice(1):p;return`${B}/${m}`},d=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const p=d.map(m=>new Promise(C=>{const F=new Image;F.onload=()=>C(),F.onerror=()=>{console.warn(`Failed to load image: ${m}`),C()},F.src=q(m)}));await Promise.all(p),n(!1)}catch(p){console.error("Erro ao carregar imagens:",p),n(!1)}})()},[]),a?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${j}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:f,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(S=>e.jsx("button",{className:`rocket-tab ${t===S?"active":""}`,onClick:()=>w(S),style:{backgroundImage:`url("${V(S)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},S))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:x,alt:"Foguete Montagem",className:"rocket-montagem-img"}),U&&e.jsx("img",{src:U,alt:"Ponta",className:"rocket-ponta"}),W&&e.jsx("img",{src:W,alt:"Corpo",className:"rocket-corpo"}),N&&e.jsx("img",{src:N,alt:"Janela",className:"rocket-janela"}),L&&e.jsx("img",{src:L,alt:"Asa",className:"rocket-asa"}),I&&e.jsx("img",{src:I,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:i,alt:"Foguete Bottom",className:"rocket-bottom-img"}),H&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:H,alt:`Preview ${M}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:R,disabled:!G,style:{backgroundImage:`url("${$}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(l)),console.log("‚úÖ Pe√ßas do foguete salvas:",l)}catch(S){console.error("‚ùå Erro ao salvar pe√ßas do foguete:",S)}s("tutorial2","fade","right")},disabled:!O,style:{backgroundImage:`url("${O?z:D}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:k,disabled:!v,style:{backgroundImage:`url("${E}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},fe=b.createContext(void 0),Fe=()=>{const s=b.useContext(fe);if(s===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return s},$e=({children:s})=>{const[r,a]=b.useState(null),[n,t]=b.useState(!0),[c,l]=b.useState(null),o=async()=>{var g,h;try{t(!0),l(null),console.log("üîÑ Carregando dados do RA...");const j=((h=(g=import.meta)==null?void 0:g.env)==null?void 0:h.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=`${j&&j!=="/"?j.endsWith("/")?j:j+"/":"/"}assets/data/ra.json`,x=await fetch(i);if(!x.ok)throw new Error(`Erro ao carregar dados: ${x.status}`);const z=await x.json();console.log("‚úÖ Dados do RA carregados:",z),a(z)}catch(j){const f=j instanceof Error?j.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",f),l(f)}finally{t(!1)}},u=()=>{o()};b.useEffect(()=>{o()},[]);const y={raData:r,loading:n,error:c,refreshData:u};return e.jsx(fe.Provider,{value:y,children:s})};const Be=({onNavigate:s})=>{const{raData:r}=Fe(),a=(r==null?void 0:r.configuracoes)||{},n=a.usarAFrame!==!1,t=a.debugVisual!==!1,[c,l]=b.useState(!0),[o,u]=b.useState(!1),[y,g]=b.useState(!1),[h,j]=b.useState(null),[f,i]=b.useState([]),[x,z]=b.useState(0),D=b.useRef(null),E=b.useRef(null),$=b.useRef(!0),T=b.useRef(!1),U=b.useRef([]),N=(()=>{var R,M;const w=((M=(R=import.meta)==null?void 0:R.env)==null?void 0:M.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),k=w&&w!=="/"?w.endsWith("/")?w:w+"/":"/";return k==="/"?"":k.endsWith("/")?k.slice(0,-1):k})(),L=w=>{if(N==="")return w.startsWith("/")?w:`/${w}`;const k=w.startsWith("/")?w.slice(1):w;return`${N}/${k}`},I=L("assets/mindar/targets.mind"),V=L("assets/images/target-image.png");return b.useEffect(()=>{const w=console.log,k=console.error,R=console.warn,M=(P,...v)=>{const G=v.map(O=>{if(typeof O=="object")try{return JSON.stringify(O,null,2)}catch{return String(O)}return String(O)}).join(" "),H={type:P,message:G.substring(0,200),timestamp:new Date().toLocaleTimeString()};U.current.push(H),U.current.length>50&&U.current.shift(),i([...U.current])};return console.log=(...P)=>{w.apply(console,P),M("log",...P)},console.error=(...P)=>{k.apply(console,P),M("error",...P)},console.warn=(...P)=>{R.apply(console,P),M("warn",...P)},()=>{console.log=w,console.error=k,console.warn=R}},[]),b.useEffect(()=>{const w=setInterval(()=>{z(k=>k+1)},1e3);return()=>{clearInterval(w)}},[]),b.useEffect(()=>{if(!n){l(!1);return}return(async()=>{try{const k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);await new Promise(d=>{let p=0;const m=100,C=()=>{p++;const F=window.AFRAME,X=F&&F.components&&F.components["mindar-image"];F&&X?(console.log("‚úÖ A-Frame e MindAR prontos"),d()):p>=m?(console.warn("‚ö†Ô∏è MindAR n√£o detectado ap√≥s timeout, continuando..."),d()):setTimeout(C,100)};C()});let R=document.querySelector("a-scene#ar-scene-main");if(!R||!R.hasAttribute("mindar-image")){if(console.log("üîÑ Criando a-scene com mindar-image desde o in√≠cio (como no exemplo HTML)..."),R){try{R.parentNode?R.parentNode.removeChild(R):R.remove()}catch(_){console.warn("Erro ao remover scene antigo:",_)}await new Promise(_=>requestAnimationFrame(_))}const d=document.createElement("a-scene");d.id="ar-scene-main",d.setAttribute("embedded","true");const p=k?`imageTargetSrc: ${I}; maxTrack: 1; warmupTolerance: 0.1; missTolerance: 0.3;`:`imageTargetSrc: ${I};`;d.setAttribute("mindar-image",p),d.setAttribute("color-space","sRGB"),d.setAttribute("renderer","colorManagement: true, physicallyCorrectLights"),d.setAttribute("vr-mode-ui","enabled: false"),d.setAttribute("ar-mode-ui","enabled: false"),d.setAttribute("webxr","enabled: false"),d.setAttribute("device-orientation-permission-ui","enabled: true"),d.style.position="fixed",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.zIndex="1",d.style.background="transparent";const m=document.createElement("a-camera");m.setAttribute("position","0 0 0"),m.setAttribute("look-controls","enabled: false"),d.appendChild(m);const C=document.createElement("a-assets"),F=document.createElement("img");F.id="card",F.src=V,F.crossOrigin="anonymous",C.appendChild(F),d.appendChild(C);const X=document.createElement("a-entity");X.setAttribute("mindar-image-target","targetIndex: 0");const K=document.createElement("a-plane");K.setAttribute("src","#card"),K.setAttribute("position","0 0 0"),K.setAttribute("height","0.552"),K.setAttribute("width","1"),K.setAttribute("rotation","0 0 0"),X.appendChild(K);const Q=document.createElement("a-box");Q.setAttribute("position","0 0.1 0"),Q.setAttribute("rotation","0 45 0"),Q.setAttribute("color","#4CC3D9"),Q.setAttribute("scale","0.2 0.2 0.2"),Q.setAttribute("animation","property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true"),X.appendChild(Q),d.appendChild(X),document.body.appendChild(d),await new Promise(_=>{let re=0;const ve=50,ie=()=>{re++;const ce=document.querySelector("a-scene#ar-scene-main");ce&&ce.hasLoaded?_():re>=ve?(console.warn("‚ö†Ô∏è Timeout aguardando scene carregar"),_()):setTimeout(ie,100)};ie()}),R=document.querySelector("a-scene#ar-scene-main"),console.log("‚úÖ Scene criado com mindar-image desde o in√≠cio"),k&&await new Promise(_=>setTimeout(_,1e3))}else console.log("‚úÖ Scene j√° tem mindar-image configurado");const M=document.getElementById("arjs-video");if(M&&(document.body.contains(M)||document.body.appendChild(M),k)){const d=R.systems&&R.systems["mindar-image-system"];if(d)try{d.el&&d.el.setAttribute&&console.log("üîó Tentando conectar v√≠deo ao MindAR system")}catch(p){console.warn("‚ö†Ô∏è N√£o foi poss√≠vel conectar v√≠deo explicitamente:",p)}}const P=()=>{document.querySelectorAll('.a-enter-vr-button, .a-enter-ar-button, [class*="vr-button"], [class*="enter-vr"], [class*="enter-ar"], [class*="cardboard"]').forEach(m=>{m&&(m.style.display="none",m.style.visibility="hidden",m.style.opacity="0",m.style.pointerEvents="none")}),document.querySelectorAll('div[class*="modal"], div[class*="ui"]').forEach(m=>{if(m){const C=m.textContent||m.innerText||"";C.toLowerCase().includes("cardboard")||C.toLowerCase().includes("insert phone")||m.classList.contains("a-vr-modal")||m.className&&m.className.includes("cardboard")?(m.style.display="none",m.style.visibility="hidden",m.style.opacity="0",m.style.pointerEvents="none"):m.classList.contains("a-orientation-modal")||m.classList.contains("a-orientation-permission-ui")||m.className&&m.className.includes("orientation-permission")}})};P(),D.current=setInterval(P,500);const v=document.getElementById("arjs-video");if(v){if(v.style.display="block",v.style.visibility="visible",v.style.opacity="1",v.classList.add("ar-video-visible"),document.body.contains(v)||document.body.appendChild(v),await new Promise(p=>{if(v.readyState>=2)p();else{const m=()=>{v.removeEventListener("canplay",m),v.removeEventListener("loadedmetadata",m),v.removeEventListener("playing",m),p()};v.addEventListener("canplay",m,{once:!0}),v.addEventListener("loadedmetadata",m,{once:!0}),v.addEventListener("playing",m,{once:!0}),setTimeout(()=>{v.removeEventListener("canplay",m),v.removeEventListener("loadedmetadata",m),v.removeEventListener("playing",m),console.warn("‚ö†Ô∏è Timeout aguardando v√≠deo estar pronto"),p()},k?1e4:5e3)}}),v.paused)try{v.muted=!0,await v.play(),console.log("‚úÖ V√≠deo iniciado para MindAR"),k&&await new Promise(p=>{let m=0;const C=()=>{m++,v.readyState>=2&&!v.paused&&m>=3?(console.log("‚úÖ V√≠deo confirmado tocando ap√≥s",m,"frames"),p(void 0)):m<10?requestAnimationFrame(C):(console.warn("‚ö†Ô∏è V√≠deo pode n√£o estar tocando corretamente"),p(void 0))};requestAnimationFrame(C)})}catch(p){console.warn("‚ö†Ô∏è Erro ao iniciar v√≠deo:",p)}const d=a.cameraMirror!==void 0?a.cameraMirror:a.cameraFacing==="user";d?v.style.transform="scaleX(-1)":v.style.transform="scaleX(1)",v.setAttribute("playsinline",""),v.setAttribute("webkit-playsinline",""),v.setAttribute("autoplay",""),v.setAttribute("muted","true"),v.muted=!0,console.log("üìπ V√≠deo tornado vis√≠vel para MindAR",{mirror:d,config:a.cameraMirror,readyState:v.readyState,paused:v.paused,videoWidth:v.videoWidth,videoHeight:v.videoHeight,isMobile:k}),k&&await new Promise(p=>requestAnimationFrame(p))}else console.warn("‚ö†Ô∏è V√≠deo n√£o encontrado! O MindAR pode n√£o funcionar corretamente.");const G=d=>{console.log("‚úÖ MindAR image target carregado",d),$.current=!1,l(!1),u(!0),E.current&&(clearTimeout(E.current),E.current=null),t&&j(p=>({...p||{},mindarLoaded:!0,targetIndex:0,imageTargetSrc:I,loadedAt:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()}))},H=d=>{console.log("‚úÖ Target encontrado!",d),T.current=!0,g(!0),t&&j(p=>{const m={...p||{},targetFound:!0,targetFoundTime:new Date().toLocaleTimeString(),timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target found):",m),m})},O=d=>{console.log("‚ö†Ô∏è Target perdido",d),T.current=!1,g(!1),t&&j(p=>{const m={...p||{},targetFound:!1,timestamp:new Date().toLocaleTimeString()};return console.log("üîç Debug atualizado (target lost):",m),m})},S=d=>{console.error("‚ùå Erro no MindAR:",d),t&&j(p=>({...p,error:d.detail||"Erro desconhecido"}))};R.addEventListener("mindar-image-loaded",G),R.addEventListener("mindar-image-target-found",H),R.addEventListener("mindar-image-target-lost",O),R.addEventListener("mindar-image-error",S);const A=R.querySelector("[mindar-image-target]");if(A&&(console.log("üìå Adicionando listeners na entidade target tamb√©m"),A.addEventListener("targetFound",H),A.addEventListener("targetLost",O)),k&&v){await new Promise(p=>setTimeout(p,500));const d=R.systems&&R.systems["mindar-image-system"];if(d)try{console.log("üîç Verificando conex√£o MindAR-v√≠deo:",{hasVideo:!!v,videoReady:v.readyState>=2,videoPlaying:!v.paused,videoWidth:v.videoWidth,videoHeight:v.videoHeight,mindarHasVideo:!!d.video}),d.video&&d.video!==v&&console.log("‚ö†Ô∏è MindAR tem v√≠deo diferente, tentando atualizar...")}catch(p){console.warn("‚ö†Ô∏è Erro ao verificar conex√£o MindAR-v√≠deo:",p)}}setTimeout(()=>{const d=R.systems&&R.systems["mindar-image-system"],p=document.getElementById("arjs-video");d&&d.anchorEntities&&d.anchorEntities.length>0?(console.log("‚úÖ MindAR j√° configurado",{anchorEntities:d.anchorEntities.length,isMobile:k,hasVideo:!!p,videoReady:p?p.readyState>=2:!1,videoPlaying:p?!p.paused:!1}),G({detail:"already-loaded"})):console.warn("‚ö†Ô∏è MindAR system n√£o encontrado ou n√£o inicializado",{hasSystem:!!d,isMobile:k,hasVideo:!!p,videoReady:p?p.readyState>=2:!1,videoPlaying:p?!p.paused:!1,mindarHasVideo:d?!!d.video:!1})},k?5e3:2e3),E.current=setTimeout(()=>{$.current&&(console.warn("‚ö†Ô∏è MindAR n√£o inicializou no tempo esperado"),$.current=!1,l(!1))},1e4);let q=null;return t&&(q=setInterval(()=>{const d=document.getElementById("arjs-video"),p=document.querySelector("a-scene#ar-scene-main");j(m=>({...m||{},videoReady:d&&d.readyState>=2,videoWidth:d==null?void 0:d.videoWidth,videoHeight:d==null?void 0:d.videoHeight,sceneReady:p&&p.hasLoaded,timestamp:new Date().toLocaleTimeString(),targetFound:(m==null?void 0:m.targetFound)!==void 0?m.targetFound:!1,targetFoundTime:(m==null?void 0:m.targetFoundTime)||null}))},1e3)),()=>{R.removeEventListener("mindar-image-loaded",G),R.removeEventListener("mindar-image-target-found",H),R.removeEventListener("mindar-image-target-lost",O),R.removeEventListener("mindar-image-error",S);const d=R.querySelector("[mindar-image-target]");d&&(d.removeEventListener("targetFound",H),d.removeEventListener("targetLost",O)),q&&clearInterval(q),E.current&&(clearTimeout(E.current),E.current=null)}}catch(k){console.error("‚ùå Erro ao configurar MindAR:",k),$.current=!1,l(!1),E.current&&(clearTimeout(E.current),E.current=null)}})(),()=>{D.current&&(clearInterval(D.current),D.current=null)}},[n,I,V,t]),e.jsxs("div",{className:"ar-game-screen",children:[c&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),n&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,pointerEvents:"none"}}),o&&!c&&e.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"15px 25px",borderRadius:"10px",zIndex:1e4,textAlign:"center",fontSize:"16px"},children:y?"‚úÖ Target detectado!":"Aponte a c√¢mera para a imagem alvo"}),ge.createPortal(e.jsxs("div",{id:"debug-console-panel",style:{position:"fixed",top:"10px",left:"10px",right:"10px",background:"rgba(0, 0, 0, 0.95)",color:"#0f0",padding:"15px",borderRadius:"8px",zIndex:2147483647,fontSize:"11px",fontFamily:"monospace",maxHeight:"80vh",overflow:"auto",border:"2px solid #0f0",boxShadow:"0 0 20px rgba(0, 255, 0, 0.5)",pointerEvents:"auto",display:"block",visibility:"visible",opacity:1},children:[e.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",borderBottom:"1px solid #0f0",paddingBottom:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"üîç DEBUG CONSOLE"}),e.jsx("button",{onClick:()=>i([]),style:{background:"#f00",color:"#fff",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"LIMPAR"})]}),e.jsxs("div",{style:{marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #333"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px",color:"#0ff"},children:"üìä STATUS"}),e.jsx("div",{style:{lineHeight:"1.6",fontSize:"10px"},children:(()=>{const w=document.getElementById("arjs-video"),k=document.querySelector("a-scene#ar-scene-main"),R=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üì± Dispositivo: ",R?"MOBILE":"DESKTOP"]}),e.jsxs("div",{children:["üì∑ C√¢mera: ",a.cameraFacing||"user"]}),e.jsxs("div",{children:["ü™û Mirror: ",a.cameraMirror!==!1?"SIM":"N√ÉO"]}),w?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üìπ V√≠deo: ",w.readyState>=2?"‚úÖ PRONTO":"‚è≥ CARREGANDO"," (readyState: ",w.readyState,")"]}),e.jsxs("div",{children:["‚ñ∂Ô∏è Playing: ",w.paused?"‚ùå PAUSADO":"‚úÖ TOCANDO"]}),w.videoWidth>0&&e.jsxs("div",{children:["üìê Resolu√ß√£o: ",w.videoWidth,"x",w.videoHeight]}),e.jsxs("div",{children:["üîä Muted: ",w.muted?"SIM":"N√ÉO"]})]}):e.jsx("div",{style:{color:"#f00"},children:"‚ùå V√≠deo n√£o encontrado!"}),k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üé¨ Scene: ",k.hasLoaded?"‚úÖ CARREGADO":"‚è≥ CARREGANDO"]}),e.jsxs("div",{children:["üéØ MindAR: ",k.hasAttribute("mindar-image")?"‚úÖ CONFIGURADO":"‚ùå N√ÉO CONFIGURADO"]})]}):e.jsx("div",{style:{color:"#f00"},children:"‚ùå Scene n√£o encontrado!"}),h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["üìÅ Arquivo: ",I.split("/").pop()]}),e.jsxs("div",{children:["üéØ Target: ",h.targetFound?"‚úÖ DETECTADO":"‚ùå N√ÉO DETECTADO"]}),h.error&&e.jsxs("div",{style:{color:"#f00"},children:["‚ùå Erro: ",String(h.error)]})]})]})})()})]}),e.jsxs("div",{style:{maxHeight:"50vh",overflow:"auto"},children:[e.jsxs("div",{style:{fontWeight:"bold",marginBottom:"5px",color:"#0ff"},children:["üìù CONSOLE LOGS (",f.length,")"]}),f.length===0?e.jsx("div",{style:{color:"#666",fontStyle:"italic"},children:"Nenhum log ainda..."}):e.jsx("div",{style:{lineHeight:"1.4"},children:f.slice(-20).reverse().map((w,k)=>e.jsxs("div",{style:{marginBottom:"4px",padding:"4px",background:w.type==="error"?"rgba(255, 0, 0, 0.2)":w.type==="warn"?"rgba(255, 255, 0, 0.2)":"rgba(0, 255, 0, 0.1)",borderRadius:"3px",borderLeft:`3px solid ${w.type==="error"?"#f00":w.type==="warn"?"#ff0":"#0f0"}`,fontSize:"10px",wordBreak:"break-word"},children:[e.jsxs("span",{style:{color:"#888",fontSize:"9px"},children:["[",w.timestamp,"]"]})," ",e.jsxs("span",{style:{color:w.type==="error"?"#f00":w.type==="warn"?"#ff0":"#0f0"},children:[w.type.toUpperCase(),":"]})," ",e.jsx("span",{style:{color:"#fff"},children:w.message})]},k))})]})]}),document.body)]})};const ze=({onNavigate:s})=>{const[r,a]=b.useState(null);b.useEffect(()=>{const g=(h=0)=>{const j=localStorage.getItem("ar-result");console.log(`Tentativa ${h+1}: resultado no localStorage =`,j),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),j==="acerto"||j==="erro"?a(j):h<5?setTimeout(()=>g(h+1),100):(console.error("Resultado n√£o encontrado no localStorage ap√≥s m√∫ltiplas tentativas, voltando para cover"),s("cover","zoom-in","left"))};g(0)},[s]);const t=(()=>{var j,f;const g=((f=(j=import.meta)==null?void 0:j.env)==null?void 0:f.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),h=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return h==="/"?"":h.endsWith("/")?h.slice(0,-1):h})(),c=g=>{if(t==="")return g.startsWith("/")?g:`/${g}`;const h=g.startsWith("/")?g.slice(1):g;return`${t}/${h}`},l={bgCapa:c("assets/images/bg-capa.png"),modalAcerto:c("assets/images/modal-acerto.png"),modalErro:c("assets/images/modal-erro.png"),btnRegistrar:c("assets/images/btn-registrar.png"),btnInicio:c("assets/images/btn-inicio.png"),btnVoltar:c("assets/images/btn-voltar.png")},o=()=>{s("selfie","fade","up")},u=()=>{s("cover","zoom-in","left")},y=()=>{s("ar","fade","left")};return r?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${l.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:r==="acerto"?l.modalAcerto:l.modalErro,alt:r==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),r==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:o,style:{backgroundImage:`url(${l.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:u,style:{backgroundImage:`url(${l.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),r==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:y,style:{backgroundImage:`url(${l.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},oe={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Me=({onNavigate:s,onSettingsChange:r})=>{const[a,n]=b.useState(oe),t=(o,u)=>{const y={...a,[o]:u};n(y),r==null||r(y)},c=()=>{s("ar")},l=()=>{n(oe),r==null||r(oe)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:a.quality,onChange:o=>t("quality",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.enableSound,onChange:o=>t("enableSound",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.enableVibration,onChange:o=>t("enableVibration",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:a.autoSave,onChange:o=>t("autoSave",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:a.language,onChange:o=>t("language",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:l,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:c,children:"Salvar"})]})]})},Oe=({onNavigate:s,appName:r="Realidade Aumentada",version:a="1.0.0",description:n="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const c=()=>{s("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:c,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:r}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",a]}),e.jsx("p",{className:"app-description",children:n})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:c,children:"Voltar ao In√≠cio"})})]})},We=({onNavigate:s})=>{const r=()=>{s("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:r,children:"Jogar Novamente"})})]})})};const De=()=>{const s=b.useRef(null),r=b.useRef(null),a=b.useRef(null),n=b.useRef(null),[t,c]=b.useState(!1),o=(()=>{var x,z;const f=((z=(x=import.meta)==null?void 0:x.env)==null?void 0:z.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=f&&f!=="/"?f.endsWith("/")?f:f+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),u=f=>{if(o==="")return f.startsWith("/")?f:`/${f}`;const i=f.startsWith("/")?f.slice(1):f;return`${o}/${i}`},y=u("assets/images/selfie-top.png"),g=u("assets/images/selfie-bottom.png"),h=u("assets/images/camera-icon.png");b.useEffect(()=>{async function f(){try{let i=document.getElementById("selfie-video");if(i&&i.srcObject){i.classList.add("selfie-video-visible"),s.current=i;return}const x=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});i||(i=document.createElement("video"),i.setAttribute("id","selfie-video"),i.setAttribute("playsinline",""),i.setAttribute("autoplay",""),i.muted=!0,i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100vw",i.style.height="100vh",i.style.objectFit="cover",i.style.zIndex="0",i.classList.add("selfie-video-visible"),document.body.appendChild(i)),i.srcObject=x,r.current=x,s.current=i,await i.play()}catch(i){console.error("Erro ao inicializar c√¢mera:",i)}}return f(),()=>{}},[]),b.useEffect(()=>{(()=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{a.current=i},i.onerror=()=>{console.warn("Erro ao carregar imagem top")},i.src=y;const x=new Image;x.crossOrigin="anonymous",x.onload=()=>{n.current=x},x.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},x.src=g})()},[y,g]);const j=async()=>{if(!(!s.current||t)){c(!0);try{const f=s.current,i=document.createElement("canvas");i.width=window.innerWidth,i.height=window.innerHeight;const x=i.getContext("2d");if(!x){c(!1);return}const z=(f.videoWidth||f.clientWidth)/(f.videoHeight||f.clientHeight),D=i.width/i.height;let E=i.width,$=i.height,T=0,U=0;if(z>D?($=i.width/z,U=(i.height-$)/2):(E=i.height*z,T=(i.width-E)/2),x.drawImage(f,T,U,E,$),await(()=>new Promise(N=>{if(a.current&&n.current)N();else{const L=setInterval(()=>{a.current&&n.current&&(clearInterval(L),N())},50);setTimeout(()=>{clearInterval(L),N()},2e3)}}))(),a.current){const N=a.current,L=N.naturalWidth/N.naturalHeight,I=i.width/L;x.drawImage(N,0,0,i.width,I)}if(n.current){const N=n.current,L=N.naturalWidth/N.naturalHeight,I=i.width/L;x.drawImage(N,0,i.height-I,i.width,I)}i.toBlob(async N=>{if(N)try{if(navigator.share&&navigator.canShare){const L=new File([N],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[L]}))await navigator.share({files:[L],title:"Minha Selfie",text:"Confira minha selfie!"});else{const I=URL.createObjectURL(N);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:I}),URL.revokeObjectURL(I)}}else{const L=URL.createObjectURL(N),I=document.createElement("a");I.href=L,I.download=`selfie-${Date.now()}.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(L)}}catch(L){if(L instanceof Error&&L.name!=="AbortError"){console.error("Erro ao compartilhar:",L);const I=URL.createObjectURL(N),V=document.createElement("a");V.href=I,V.download=`selfie-${Date.now()}.png`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(I)}}c(!1)},"image/png")}catch(f){console.error("Erro ao capturar foto:",f),c(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:y,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:g,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:j,disabled:t,style:{backgroundImage:`url(${h})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Ve=({initialScreen:s="loading",appConfig:r,defaultTransition:a="zoom-out",defaultDirection:n="right"})=>{const[t,c]=b.useState(s||"loading"),[l,o]=b.useState(!1),[u,y]=b.useState(a),[g,h]=b.useState(n),[j,f]=b.useState(null);b.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",t)},[]),b.useEffect(()=>{if(!l){const E=setTimeout(()=>{t!=="loading"&&f(null)},1e3);return()=>clearTimeout(E)}},[t,l]);const i=(E,$)=>{const T=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],U=T.indexOf(E),W=T.indexOf($);return W>U?"right":W<U?"left":"right"},x=(E,$,T)=>{const U=$||u,W=T||i(t,E);f(t),y(U),h(W);const N=t==="loading"?800:300;o(!0),setTimeout(()=>{c(E),o(!1)},N)},z=()=>{switch(t){case"loading":return e.jsx(me,{onNavigate:x});case"cover":return e.jsx(Te,{onNavigate:x,title:r.title,subtitle:r.subtitle});case"tutorial":return e.jsx(Pe,{onNavigate:x});case"rocket":return e.jsx(Ue,{onNavigate:x});case"tutorial2":return e.jsx(Ce,{onNavigate:x});case"ar":return e.jsx(Be,{onNavigate:x});case"resultado":return e.jsx(ze,{onNavigate:x});case"final":return e.jsx(We,{onNavigate:x});case"settings":return e.jsx(Me,{onNavigate:x});case"about":return e.jsx(Oe,{onNavigate:x});case"selfie":return e.jsx(De,{onNavigate:x});default:return e.jsx(me,{onNavigate:x})}},D=()=>{const E="screen-manager",$=`transition-${u}`,T=`direction-${g}`,U=l?"transitioning":"",W=j?`from-${j}`:"";return`${E} ${$} ${T} ${U} ${W}`.trim()};return e.jsx("div",{className:D(),children:z()})},qe=()=>{const[s,r]=b.useState(!1),a=()=>{const n=window.innerWidth,t=window.innerHeight,c=n>t,l=navigator.userAgent.toLowerCase(),o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(l)||"ontouchstart"in window||navigator.maxTouchPoints>0,u=n<=768;o&&c||u&&c?(r(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(r(!1),document.body.style.overflow="",document.body.style.touchAction="")};return b.useEffect(()=>{a();let n,t;const c=()=>{clearTimeout(n),n=setTimeout(()=>{a()},100)},l=()=>{clearTimeout(t),t=setTimeout(()=>{a()},300)},o=()=>{clearTimeout(t),t=setTimeout(()=>{a()},300)},u=h=>{clearTimeout(t),t=setTimeout(()=>{a()},100)};window.addEventListener("resize",c),window.addEventListener("orientationchange",l),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",o);const y=window.matchMedia("(orientation: landscape)");y.addEventListener("change",u);const g=setInterval(()=>{a()},2e3);return()=>{clearTimeout(n),clearTimeout(t),clearInterval(g),window.removeEventListener("resize",c),window.removeEventListener("orientationchange",l),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",o),y.removeEventListener("change",u),document.body.style.overflow="",document.body.style.touchAction=""}},[]),s?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function ue(){const s={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx($e,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(qe,{}),e.jsx(Ve,{initialScreen:"loading",appConfig:s})]})})}he().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),te.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(ue,{})}))}).catch(s=>{console.error("Erro na inicializa√ß√£o global:",s),te.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(ue,{})}))});
//# sourceMappingURL=index-ed48e902.js.map
